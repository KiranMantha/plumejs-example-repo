var Q=Object.defineProperty;var $=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var A=(t,e,n)=>e in t?Q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>{for(var n in e||(e={}))X.call(e,n)&&A(t,n,e[n]);if($)for(var n of $(e))Z.call(e,n)&&A(t,n,e[n]);return t};var f=(t,e,n)=>(A(t,typeof e!="symbol"?e+"":e,n),n);const H=new class{constructor(){f(this,"map",new Map)}register(t,e){if(!this.map.get(t.name))this.map.set(t.name,e);else throw Error(`${t.name} is already registered service.`)}getService(t){const e=t.prototype.__metadata__,n=this.map.get(e.name);if(n)return n;throw Error(`${e.name} is not a registered provider.`)}clear(){this.map=new Map}},W=(t,e,n)=>{if(e.length){const s=[];for(const a of e)a.__metadata__?s.push(n):s.push(H.getService(a));return new t(...s)}else return new t},T=new class{constructor(){f(this,"globalStyles");f(this,"style_registry");f(this,"isRootNodeSet");f(this,"globalStyleTag");f(this,"getComputedCss",(t="")=>{let e=[];const n=new CSSStyleSheet;if(n.insertRule(":host { display: block; }"),e=[this.globalStyles,n],t){const s=new CSSStyleSheet;s.replace(t),e.push(s)}return e});try{this.globalStyles=new CSSStyleSheet}catch{this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}},{html:U,render:ee}=(()=>{const t=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,e=/<[a-z][^>]+$/i,n="attr",s=/^attr([^ ]+)/,a="insertNode",r=/^insertNode([^ ]+)/,i=g=>{const o={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let c=JSON.stringify(g);const l=u=>o[u]||u;return c=(u=>u.replace(/[&<>\(\)]/g,l))(c),JSON.parse(c)},m=(g,o)=>{var h;const c=g.options,l=Array.isArray(o)?o:[o];let p,u,d=c.length;for(;d--;){u=c[d];const b=(h=u.getAttribute("value"))!=null?h:(u.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ");(u.selected=l.indexOf(b)>-1)&&(p=!0)}p||(g.selectedIndex=-1)},y=g=>{const o=document.createElement("template");return o.innerHTML=g,o.content},S=(g,o)=>{const c=document.createTreeWalker(g,NodeFilter.SHOW_ELEMENT,null);let l=c.nextNode();for(;l;){if(l.eventSubscriptions=[],l.hasAttributes()){const p=Array.from(l.attributes).filter(u=>s.test(u.nodeName));for(const{nodeName:u,nodeValue:d}of p){const h=s.exec(u)[1];switch(!0){case/^on+/.test(d):{const b=d.slice(2).toLowerCase();l.removeEventListener(b,o[h]),l.addEventListener(b,o[h]);break}case/ref/.test(d):{o[h](l);break}case/^data-+/.test(d):{l.setAttribute(`data-${d}`,i(o[h]));break}case/^aria-+/.test(d):{l.setAttribute(`aria-${d}`,i(o[h]));break}case/class/.test(d):{o[h]?l.classList.add(...o[h].split(" ")):l.setAttribute("class","");break}case/value/.test(d):{l.nodeName.toLowerCase()==="select"?m(l,o[h]):l.value=i(o[h]);break}case/disabled/.test(d):case/checked/.test(d):{o[h]?l.setAttribute(d,o[h]):l.removeAttribute(d);break}default:l.setAttribute(d,i(o[h]))}l.removeAttribute(u)}}l=c.nextNode()}},k=(g,o)=>{const c=document.createTreeWalker(g,NodeFilter.SHOW_COMMENT,null);let l=c.nextNode(),p;for(;l;){if(p=r.exec(l.data)){const u=Array.isArray(o[p[1]])?o[p[1]]:[o[p[1]]];l.replaceWith(...u),c.currentNode=g}l=c.nextNode()}};return{html:(g,...o)=>{let c="";const{length:l}=g;for(let u=1;u<l;u++){const d=o[u-1];let h=!1;c+=g[u-1],t.test(c)&&e.test(c)&&(c=c.replace(t,(b,w,v)=>`${n}${u-1}=${v||'"'}${w}${v?"":'"'}`),h=!0),h||(Array.isArray(d)||d instanceof DocumentFragment?c+=`<!--${a}${u-1}-->`:c+=d)}c+=g[l-1];const p=y(c.trim());return S(p,o),k(p,o),p},render:(g,o)=>{g.textContent="",g.appendChild(o)}}})();class L{constructor(){f(this,"shadowRoot");f(this,"update");f(this,"emitEvent")}static get __metadata__(){return{name:"Renderer"}}}const te=t=>typeof t=="function",j=(()=>{try{return new CSSStyleSheet,!1}catch{return!0}})(),V=(t,e,n,s=!1)=>(t.addEventListener(e,n,s),()=>{t.removeEventListener(e,n,s)}),B="data-compid",ne={selector:"",root:!1,styles:"",deps:[]},J=(t,e=null)=>{const n=document.createElement("style");return n.innerHTML=t,e&&e.appendChild(n),n},re=(t,e)=>(t&&(t=e+" "+t.toString().replace("}",` } ${e} `)),t),se=(t,e)=>{if(t=_(_({},ne),t),t.styles=t.styles.toString(),t.root&&!T.isRootNodeSet)T.isRootNodeSet=!0,t.styles&&(J(t.styles,document.head),T.globalStyles.replace(t.styles));else if(t.root&&T.isRootNodeSet)throw Error("Cannot register duplicate root component in "+t.selector+" component");window.customElements.define(t.selector,class extends HTMLElement{constructor(){super();f(this,"klass");f(this,"shadow");f(this,"componentStyleTag",null);f(this,"eventSubscriptions",[]);if(this.shadow=this.attachShadow({mode:"open"}),!j){const n=T.getComputedCss(t.styles);this.shadow.adoptedStyleSheets=n}this.update=this.update.bind(this),this.emitEvent=this.emitEvent.bind(this),this.setProps=this.setProps.bind(this),this.getInstance=this.getInstance.bind(this)}emulateComponent(){if(j&&t.styles){const n=new Date().getTime()+Math.floor(Math.random()*1e3+1),s=re(t.styles,`[${B}="${n.toString()}"]`);this.componentStyleTag=J(s),this.setAttribute(B,n.toString())}}connectedCallback(){this.emulateComponent();const n=new L;n.update=this.update,n.shadowRoot=this.shadow,n.emitEvent=this.emitEvent,this.klass=W(e,t.deps,n),this.klass.beforeMount&&this.klass.beforeMount(),this.update(),this.klass.mount&&this.klass.mount(),this.eventSubscriptions.push(V(window,"onLanguageChange",()=>{this.update()}))}update(){ee(this.shadow,this.klass.render.bind(this.klass)()),j&&(t.styles&&this.shadow.insertBefore(this.componentStyleTag,this.shadow.childNodes[0]),T.globalStyleTag&&this.shadow.insertBefore(document.importNode(T.globalStyleTag,!0),this.shadow.childNodes[0]))}emitEvent(n,s,a=!0){const r=new CustomEvent(n,{detail:s,bubbles:a});this.dispatchEvent(r)}setProps(n){for(const[s,a]of Object.entries(n))this.klass[s]=a;this.klass.onPropsChanged&&this.klass.onPropsChanged(),this.update()}getInstance(){return this.klass}disconnectedCallback(){var n;if(this.componentStyleTag&&this.componentStyleTag.remove(),this.klass.unmount&&this.klass.unmount(),(n=this.eventSubscriptions)==null?void 0:n.length)for(const s of this.eventSubscriptions)s()}})},oe={name:"",deps:[]},ae=t=>e=>{if(t.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");window.customElements.get(t.selector)||(Object.defineProperty(e.prototype,"selector",{get(){return t.selector}}),se(t,e))},N=t=>e=>{t=_(_({},oe),t),Object.defineProperty(e.prototype,"__metadata__",{get(){return{name:t.name}}});const n=W(e,t.deps);H.register(e.prototype.__metadata__,n)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function C(t,e,n,s){var a=arguments.length,r=a<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,e,n,s);else for(var m=t.length-1;m>=0;m--)(i=t[m])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r}function M(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}let q=class{constructor(){f(this,"transition","");this.whichTransitionEnd()}whichTransitionEnd(){const n=document.createElement("div").style,s={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(const a in s)if(typeof n[a]!="undefined"){this.transition=s[a];break}}onTransitionEnd(e,n,s){let a=!1,r=null;const i=()=>{a||(a=!0,n&&n(),r(),r=null)};r=V(e,this.transition,()=>{i()}),setTimeout(i,s)}};q=C([N({name:"DomTransition"}),M("design:paramtypes",[])],q);const ie=t=>{const e=t;return[e,s=>{let a;te(s)?a=s(e):a=s,Object.assign(e,a)}]},ce=t=>{let e;switch(t.nodeName&&t.nodeName.toLowerCase()){case"input":case"textarea":{["radio","checkbox"].includes(t.type)?e=t.checked?t.value!==null&&t.value!=="on"?t.value:!0:!1:e=t.value;break}case"select":{const n=t.type==="select-one",a=[...Array.from(t.options)].filter(r=>r.selected).map(r=>{var i;return(i=r.value)!=null?i:(r.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")});e=n?a[0]:a;break}default:{e=t.value;break}}return e},Ee=t=>{const e=_({},t),[n,s]=ie(t);return[n,i=>m=>{const y=m.target,S=ce(y);s(()=>(n[i]=S,n))},()=>{Object.assign(n,e)}]};var le=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},I={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(typeof self!="undefined"?self:le,function(){return function(n){var s={};function a(r){if(s[r])return s[r].exports;var i=s[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=n,a.c=s,a.d=function(r,i,m){a.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:m})},a.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},a.t=function(r,i){if(1&i&&(r=a(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var y in r)a.d(m,y,function(S){return r[S]}.bind(null,y));return m},a.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return a.d(i,"a",i),i},a.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},a.p="",a(a.s=0)}([function(n,s,a){function r(o){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(o)}a.r(s),a.d(s,"setDefaultLanguage",function(){return y}),a.d(s,"setTranslate",function(){return g});var i="pt",m={},y=function(o){i=o},S=function(o){return o!==null&&r(o)==="object"},k=function(o){return o!==null&&typeof o=="string"},D=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},F=function(o,c,l){var p;if(c){if(!isNaN(parseInt(c)))return c;if(o){for(var u,d=c.trim().split("."),h=0,b=d.length;h<b;h++)if((u=u?u[d[h]]:o[d[h]])&&!S(u))return u;p=u}}return p||l};Object.assign(String.prototype,{translate:function(){var o,c,l;arguments.length>0&&((arguments.length<=0?void 0:arguments[0])&&k(arguments.length<=0?void 0:arguments[0])&&(c=arguments.length<=0?void 0:arguments[0]),(arguments.length<=0?void 0:arguments[0])&&S(arguments.length<=0?void 0:arguments[0])&&(l=arguments.length<=0?void 0:arguments[0]),(arguments.length<=1?void 0:arguments[1])&&S(arguments.length<=1?void 0:arguments[1])&&(l=arguments.length<=1?void 0:arguments[1])),c||(c=i);var p=m[c]||{};D(p,this)&&(o=p[this]);var u=!o;if(u){var d=this,h=d.match(/(\[\d+])/g),b=d.match(/(\[\w+])/g);h&&(d=d.replace(/(\[\d+])/g,"[:num]")),b&&(d=d.replace(/(\[\w+])/g,"[:str]")),(o=F(p,this,""))&&(h&&h.forEach(function(w,v){o=(o=(o=o.replace("{$".concat(v+1,"+2}"),parseInt(w.match(/\d+/g),10)+2)).replace("{$".concat(v+1,"+1}"),parseInt(w.match(/\d+/g),10)+1)).replace("$".concat(v+1),w.match(/\d+/g))}),b&&b.forEach(function(w,v){var x=new RegExp("$".concat(v),"g");o=o.replace(x,w.match(/\w+/g))}))}return l&&(o=o.replace(/\{\s?([\w.]+)\s?\}/g,function(w,v){var x=v.trim();return l[x]||x})),o||this}});var g=function(o,c){c||(c=i),m[c]||(m[c]={}),Object.assign(m[c],o)}}])})})(I);let z=class{constructor(){f(this,"_defaultLanguage","")}setTranslate(e,n){I.exports.setTranslate(e,n)}setDefaultLanguage(e){this._defaultLanguage=e,I.exports.setDefaultLanguage(e);const n=new CustomEvent("onLanguageChange");window.dispatchEvent(n)}getCurrentLanguage(){return this._defaultLanguage}};z=C([N({name:"TranslationService"})],z);const O=class{static checkParams(e,n){let s=0;const a={},r=n.ParamCount;for(let i=0;i<e.length;i++){const m=n.Params[i];m.indexOf(":")>=0&&(a[m.split(":")[1]]=e[i],s+=1)}return s===r?a:{}}static getParamCount(e){let n=0;return e.forEach(s=>{s.indexOf(":")>=0&&(n+=1)}),n}static formatRoute(e){const n={Params:{},Url:"",Template:"",ParamCount:0,IsRegistered:!1,redirectTo:"",canActivate:()=>!0};if(n.Params=e.path.split("/").filter(s=>s.length>0),n.Url=e.path,n.Template="",n.redirectTo=e.redirectTo,e.template){if(!e.templatePath)throw Error("templatePath is required in route if template is mentioned.");n.Template=e.template,n.TemplatePath=e.templatePath}e.canActivate&&(n.canActivate=e.canActivate),n.ParamCount=O.getParamCount(n.Params),O.routeList.push(n)}static preloadRoutes(){for(const e of O.routeList)e.TemplatePath&&e.TemplatePath()}};let R=O;f(R,"routeList",[]);const ue=t=>!!t&&typeof t.subscribe=="function",de=t=>!!t&&typeof t.then=="function",he=t=>({subscribe:e=>{e(t)}}),fe=t=>({subscribe:e=>{Promise.resolve(t).then(n=>{e(n)})}});class me{constructor(){f(this,"_internalFn")}asObservable(){return{subscribe:e=>this.subscribe(e)}}subscribe(e){return this._internalFn=e,this.unsubscribe}unsubscribe(){this._internalFn=null}next(e){this._internalFn(e)}}const G=t=>ue(t)?t:de(t)?fe(Promise.resolve(t)):he(t),pe=(t,e,n,s=!1)=>(t.addEventListener(e,n,s),()=>{t.removeEventListener(e,n,s)});let E=class{constructor(){f(this,"_currentRoute",{path:"",routeParams:new Map,queryParams:new Map,state:{}});f(this,"_template",new me);f(this,"_unSubscribeHashEvent")}startHashChange(){this._unSubscribeHashEvent=pe(window,"hashchange",()=>{this._registerOnHashChange()})}stopHashChange(){this._unSubscribeHashEvent()}getTemplate(){return this._template.asObservable()}getCurrentRoute(){return this._currentRoute}navigateTo(e="",n){e?(window.location.hash.replace(/^#/,"")===e&&this._navigateTo(e,n),window.location.hash="#"+e):this._navigateTo(e,n)}_registerOnHashChange(){const e=window.location.hash.replace(/^#/,"");this._navigateTo(e,null)}_routeMatcher(e,n){if(e){const s=new RegExp(e.replace(/:[^\s/]+/g,"([\\w-]+)"));return n.match(s)}else return e===n}_navigateTo(e,n){const s=e.split("/").filter(i=>i.length>0),a=R.routeList.filter(i=>{if(i.Params.length===s.length&&this._routeMatcher(i.Url,e))return i;if(i.Url===e)return i}),r=a.length>0?a[0]:null;r&&(this._currentRoute.path=e,this._currentRoute.state=_({},n||{}),G(r.canActivate()).subscribe(i=>{if(!i)return;const m=R.checkParams(s,r);if(Object.keys(m).length>0||e){this._currentRoute.routeParams=new Map(Object.entries(m));const y=window.location.hash.split("?")[1]?new URLSearchParams(window.location.hash.split("?")[1]).entries():[];this._currentRoute.queryParams=new Map(y),r.IsRegistered?this._template.next(r.Template):r.TemplatePath&&G(r.TemplatePath()).subscribe(()=>{r.IsRegistered=!0,this._template.next(r.Template)})}else this.navigateTo(r.redirectTo,n)}))}};E=C([N({name:"InternalRouter"})],E);let Y=class{constructor(e,n){f(this,"internalRouterSrvc");f(this,"renderer");f(this,"_template","");f(this,"_templateSubscription");this.internalRouterSrvc=e,this.renderer=n}beforeMount(){this._templateSubscription=this.internalRouterSrvc.getTemplate().subscribe(e=>{this._template=e,this.renderer.update()}),this.internalRouterSrvc.startHashChange()}mount(){const e=window.location.hash.replace(/^#/,"");this.internalRouterSrvc.navigateTo(e,null)}unmount(){this._templateSubscription(),this.internalRouterSrvc.stopHashChange()}render(){if(this._template){const e=[`${this._template}`];return e.raw=[`${this._template}`],U(e)}else return U``}};Y=C([ae({selector:"router-outlet",deps:[E,L]}),M("design:paramtypes",[E,L])],Y);var P={};Object.defineProperty(P,"__esModule",{value:!0});var ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},be=typeof window!="undefined"&&typeof window.document!="undefined",ye=typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null,ve=(typeof self=="undefined"?"undefined":ge(self))==="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",Se=typeof window!="undefined"&&window.name==="nodejs"||typeof navigator!="undefined"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),we=typeof Deno!="undefined"&&typeof Deno.core!="undefined";P.isBrowser=be;P.isWebWorker=ve;var _e=P.isNode=ye;P.isJsDom=Se;P.isDeno=we;let K=class{constructor(e){f(this,"internalRouter");this.internalRouter=e}getCurrentRoute(){return this.internalRouter.getCurrentRoute()}navigateTo(e,n){this.internalRouter.navigateTo(e,n)}static registerRoutes(e,n=!1){if(!_e)if(Array.isArray(e)){for(const s of e)R.formatRoute(s);n&&R.preloadRoutes()}else throw Error("router.addRoutes: the parameter must be an array")}};K=C([N({name:"Router",deps:[E]}),M("design:paramtypes",[E])],K);export{ae as C,q as D,N as I,K as R,z as T,C as _,L as a,M as b,U as h,ee as r,Ee as u};
