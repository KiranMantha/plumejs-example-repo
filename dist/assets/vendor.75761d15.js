var Q=Object.defineProperty;var H=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var N=(t,e,n)=>e in t?Q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>{for(var n in e||(e={}))X.call(e,n)&&N(t,n,e[n]);if(H)for(var n of H(e))Z.call(e,n)&&N(t,n,e[n]);return t};var m=(t,e,n)=>(N(t,typeof e!="symbol"?e+"":e,n),n);const D=new class{constructor(){m(this,"map",new WeakMap)}register(t,e){if(!this.map.get(t))this.map.set(t,e);else throw Error(`${t} is already registered service.`)}getService(t){const e=this.map.get(t);if(e)return e;throw Error(`${t} is not a registered provider.`)}clear(){this.map=new WeakMap}},W=(t,e,n)=>{if(e.length){const r=[];for(const a of e)a.__metadata__?r.push(n):r.push(D.getService(a));return new t(...r)}else return new t},T=new class{constructor(){m(this,"globalStyles");m(this,"style_registry");m(this,"isRootNodeSet");m(this,"globalStyleTag");m(this,"getComputedCss",(t="")=>{let e=[];const n=new CSSStyleSheet;if(n.insertRule(":host { display: block; }"),e=[this.globalStyles,n],t){const r=new CSSStyleSheet;r.replace(t),e.push(r)}return e});try{this.globalStyles=new CSSStyleSheet}catch{this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}},{html:U,render:ee}=(()=>{const t=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,e=/<[a-z][^>]+$/i,n="attr",r=/^attr([^ ]+)/,a="insertNode",s=/^insertNode([^ ]+)/,i=g=>{const o={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let c=JSON.stringify(g);const l=u=>o[u]||u;return c=(u=>u.replace(/[&<>\(\)]/g,l))(c),JSON.parse(c)},f=(g,o)=>{var d;const c=g.options,l=Array.isArray(o)?o:[o];let p,u,h=c.length;for(;h--;){u=c[h];const b=(d=u.getAttribute("value"))!=null?d:(u.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ");(u.selected=l.indexOf(b)>-1)&&(p=!0)}p||(g.selectedIndex=-1)},y=g=>{const o=document.createElement("template");return o.innerHTML=g,o.content},w=(g,o)=>{const c=document.createTreeWalker(g,NodeFilter.SHOW_ELEMENT,null);let l=c.nextNode();for(;l;){if(l.eventSubscriptions=[],l.hasAttributes()){const p=Array.from(l.attributes).filter(u=>r.test(u.nodeName));for(const{nodeName:u,nodeValue:h}of p){const d=r.exec(u)[1];switch(!0){case/^on+/.test(h):{const b=h.slice(2).toLowerCase();l.removeEventListener(b,o[d]),b!=="bindprops"?l.addEventListener(b,o[d]):l.addEventListener(b,v=>{v.detail.setProps(o[d]())});break}case/ref/.test(h):{o[d](l);break}case/^data-+/.test(h):{l.setAttribute(`data-${h}`,i(o[d]));break}case/^aria-+/.test(h):{l.setAttribute(`aria-${h}`,i(o[d]));break}case/class/.test(h):{o[d]?l.classList.add(...o[d].split(" ")):l.setAttribute("class","");break}case/value/.test(h):{l.nodeName.toLowerCase()==="select"?f(l,o[d]):l.value=i(o[d]);break}case/disabled/.test(h):case/checked/.test(h):{o[d]?l.setAttribute(h,o[d]):l.removeAttribute(h);break}default:l.setAttribute(h,i(o[d]))}l.removeAttribute(u)}}l=c.nextNode()}},A=(g,o)=>{const c=document.createTreeWalker(g,NodeFilter.SHOW_COMMENT,null);let l=c.nextNode(),p;for(;l;){if(p=s.exec(l.data)){const u=Array.isArray(o[p[1]])?o[p[1]]:[o[p[1]]];l.replaceWith(...u),c.currentNode=g}l=c.nextNode()}};return{html:(g,...o)=>{let c="";const{length:l}=g;for(let u=1;u<l;u++){const h=o[u-1];let d=!1;c+=g[u-1],t.test(c)&&e.test(c)&&(c=c.replace(t,(b,v,S)=>`${n}${u-1}=${S||'"'}${v}${S?"":'"'}`),d=!0),d||(Array.isArray(h)||h instanceof DocumentFragment?c+=`<!--${a}${u-1}-->`:c+=h)}c+=g[l-1];const p=y(c.trim());return w(p,o),A(p,o),p},render:(g,o)=>{g.textContent="",g.appendChild(o)}}})();class k{constructor(){m(this,"shadowRoot");m(this,"update");m(this,"emitEvent")}static get __metadata__(){return{name:"Renderer"}}}const te=t=>typeof t=="function",L=(()=>{try{return new CSSStyleSheet,!1}catch{return!0}})(),V=(t,e,n,r=!1)=>(t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}),q="data-compid",ne={selector:"",root:!1,styles:"",deps:[]},z=(t,e=null)=>{const n=document.createElement("style");return n.innerHTML=t,e&&e.appendChild(n),n},re=(t,e)=>(t&&(t=e+" "+t.toString().replace("}",` } ${e} `)),t),se=(t,e)=>{if(t=_(_({},ne),t),t.styles=t.styles.toString(),t.root&&!T.isRootNodeSet)T.isRootNodeSet=!0,t.styles&&(z(t.styles,document.head),T.globalStyles.replace(t.styles));else if(t.root&&T.isRootNodeSet)throw Error("Cannot register duplicate root component in "+t.selector+" component");window.customElements.define(t.selector,class extends HTMLElement{constructor(){super();m(this,"klass");m(this,"shadow");m(this,"componentStyleTag",null);m(this,"eventSubscriptions",[]);if(this.shadow=this.attachShadow({mode:"open"}),!L){const n=T.getComputedCss(t.styles);this.shadow.adoptedStyleSheets=n}this.update=this.update.bind(this),this.emitEvent=this.emitEvent.bind(this),this.setProps=this.setProps.bind(this),this.getInstance=this.getInstance.bind(this)}emulateComponent(){if(L&&t.styles){const n=new Date().getTime()+Math.floor(Math.random()*1e3+1),r=re(t.styles,`[${q}="${n.toString()}"]`);this.componentStyleTag=z(r),this.setAttribute(q,n.toString())}}connectedCallback(){this.emulateComponent();const n=new k;n.update=this.update,n.shadowRoot=this.shadow,n.emitEvent=this.emitEvent,this.klass=W(e,t.deps,n),this.klass.beforeMount&&this.klass.beforeMount(),this.update(),this.klass.mount&&this.klass.mount(),this.emitEvent("bindprops",{setProps:this.setProps},!1),this.eventSubscriptions.push(V(window,"onLanguageChange",()=>{this.update()}))}update(){ee(this.shadow,this.klass.render.bind(this.klass)()),L&&(t.styles&&this.shadow.insertBefore(this.componentStyleTag,this.shadow.childNodes[0]),T.globalStyleTag&&this.shadow.insertBefore(document.importNode(T.globalStyleTag,!0),this.shadow.childNodes[0]))}emitEvent(n,r,a=!0){const s=new CustomEvent(n,{detail:r,bubbles:a});this.dispatchEvent(s)}setProps(n){for(const[r,a]of Object.entries(n))this.klass[r]=a;this.klass.onPropsChanged&&this.klass.onPropsChanged(),this.update()}getInstance(){return this.klass}disconnectedCallback(){var n;if(this.componentStyleTag&&this.componentStyleTag.remove(),this.klass.unmount&&this.klass.unmount(),(n=this.eventSubscriptions)==null?void 0:n.length)for(const r of this.eventSubscriptions)r()}})},ae={deps:[]},oe=t=>e=>{if(t.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");window.customElements.get(t.selector)||(Object.defineProperty(e.prototype,"selector",{get(){return t.selector}}),se(t,e))},x=(t={})=>e=>{t=_(_({},ae),t);const n=W(e,t.deps);D.register(e,n)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var j=function(t,e){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},j(t,e)};function be(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");j(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function P(t,e,n,r){var a=arguments.length,s=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var f=t.length-1;f>=0;f--)(i=t[f])&&(s=(a<3?i(s):a>3?i(e,n,s):i(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s}function M(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ye(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,s=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)s.push(a.value)}catch(f){i={error:f}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function Se(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,s;r<a;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}let B=class{constructor(){m(this,"transition","");this.whichTransitionEnd()}whichTransitionEnd(){const n=document.createElement("div").style,r={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(const a in r)if(typeof n[a]!="undefined"){this.transition=r[a];break}}onTransitionEnd(e,n,r){let a=!1,s=null;const i=()=>{a||(a=!0,n&&n(),s(),s=null)};s=V(e,this.transition,()=>{i()}),setTimeout(i,r)}};B=P([x(),M("design:paramtypes",[])],B);const ie=t=>{const e=t;return[e,r=>{let a;te(r)?a=r(e):a=r,Object.assign(e,a)}]},ce=t=>{let e;switch(t.nodeName&&t.nodeName.toLowerCase()){case"input":case"textarea":{["radio","checkbox"].includes(t.type)?e=t.checked?t.value!==null&&t.value!=="on"?t.value:!0:!1:e=t.value;break}case"select":{const n=t.type==="select-one",a=[...Array.from(t.options)].filter(s=>s.selected).map(s=>{var i;return(i=s.value)!=null?i:(s.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")});e=n?a[0]:a;break}default:{e=t.value;break}}return e},_e=t=>{const e=_({},t),[n,r]=ie(t);return[n,i=>f=>{const y=f.target,w=ce(y);r(()=>(n[i]=w,n))},()=>{Object.assign(n,e)}]};var le=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},I={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(typeof self!="undefined"?self:le,function(){return function(n){var r={};function a(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=n,a.c=r,a.d=function(s,i,f){a.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:f})},a.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},a.t=function(s,i){if(1&i&&(s=a(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var f=Object.create(null);if(a.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var y in s)a.d(f,y,function(w){return s[w]}.bind(null,y));return f},a.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(i,"a",i),i},a.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},a.p="",a(a.s=0)}([function(n,r,a){function s(o){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(o)}a.r(r),a.d(r,"setDefaultLanguage",function(){return y}),a.d(r,"setTranslate",function(){return g});var i="pt",f={},y=function(o){i=o},w=function(o){return o!==null&&s(o)==="object"},A=function(o){return o!==null&&typeof o=="string"},F=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},$=function(o,c,l){var p;if(c){if(!isNaN(parseInt(c)))return c;if(o){for(var u,h=c.trim().split("."),d=0,b=h.length;d<b;d++)if((u=u?u[h[d]]:o[h[d]])&&!w(u))return u;p=u}}return p||l};Object.assign(String.prototype,{translate:function(){var o,c,l;arguments.length>0&&((arguments.length<=0?void 0:arguments[0])&&A(arguments.length<=0?void 0:arguments[0])&&(c=arguments.length<=0?void 0:arguments[0]),(arguments.length<=0?void 0:arguments[0])&&w(arguments.length<=0?void 0:arguments[0])&&(l=arguments.length<=0?void 0:arguments[0]),(arguments.length<=1?void 0:arguments[1])&&w(arguments.length<=1?void 0:arguments[1])&&(l=arguments.length<=1?void 0:arguments[1])),c||(c=i);var p=f[c]||{};F(p,this)&&(o=p[this]);var u=!o;if(u){var h=this,d=h.match(/(\[\d+])/g),b=h.match(/(\[\w+])/g);d&&(h=h.replace(/(\[\d+])/g,"[:num]")),b&&(h=h.replace(/(\[\w+])/g,"[:str]")),(o=$(p,this,""))&&(d&&d.forEach(function(v,S){o=(o=(o=o.replace("{$".concat(S+1,"+2}"),parseInt(v.match(/\d+/g),10)+2)).replace("{$".concat(S+1,"+1}"),parseInt(v.match(/\d+/g),10)+1)).replace("$".concat(S+1),v.match(/\d+/g))}),b&&b.forEach(function(v,S){var C=new RegExp("$".concat(S),"g");o=o.replace(C,v.match(/\w+/g))}))}return l&&(o=o.replace(/\{\s?([\w.]+)\s?\}/g,function(v,S){var C=S.trim();return l[C]||C})),o||this}});var g=function(o,c){c||(c=i),f[c]||(f[c]={}),Object.assign(f[c],o)}}])})})(I);let J=class{constructor(){m(this,"_defaultLanguage","")}setTranslate(e,n){I.exports.setTranslate(e,n)}setDefaultLanguage(e){this._defaultLanguage=e,I.exports.setDefaultLanguage(e);const n=new CustomEvent("onLanguageChange");window.dispatchEvent(n)}getCurrentLanguage(){return this._defaultLanguage}};J=P([x()],J);const O=class{static checkParams(e,n){let r=0;const a={},s=n.ParamCount;for(let i=0;i<e.length;i++){const f=n.Params[i];f.indexOf(":")>=0&&(a[f.split(":")[1]]=e[i],r+=1)}return r===s?a:{}}static getParamCount(e){let n=0;return e.forEach(r=>{r.indexOf(":")>=0&&(n+=1)}),n}static formatRoute(e){const n={Params:{},Url:"",Template:"",ParamCount:0,IsRegistered:!1,redirectTo:"",canActivate:()=>!0};if(n.Params=e.path.split("/").filter(r=>r.length>0),n.Url=e.path,n.Template="",n.redirectTo=e.redirectTo,e.template){if(!e.templatePath)throw Error("templatePath is required in route if template is mentioned.");n.Template=e.template,n.TemplatePath=e.templatePath}e.canActivate&&(n.canActivate=e.canActivate),n.ParamCount=O.getParamCount(n.Params),O.routeList.push(n)}static preloadRoutes(){for(const e of O.routeList)e.TemplatePath&&e.TemplatePath()}};let E=O;m(E,"routeList",[]);const ue=t=>!!t&&typeof t.subscribe=="function",he=t=>!!t&&typeof t.then=="function",de=t=>({subscribe:e=>{e(t)}}),fe=t=>({subscribe:e=>{Promise.resolve(t).then(n=>{e(n)})}});class me{constructor(){m(this,"_internalFn")}asObservable(){return{subscribe:e=>this.subscribe(e)}}subscribe(e){return this._internalFn=e,this.unsubscribe}unsubscribe(){this._internalFn=null}next(e){this._internalFn(e)}}const G=t=>ue(t)?t:he(t)?fe(Promise.resolve(t)):de(t),pe=(t,e,n,r=!1)=>(t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)});let R=class{constructor(){m(this,"_currentRoute",{path:"",routeParams:new Map,queryParams:new Map,state:{}});m(this,"_template",new me);m(this,"_unSubscribeHashEvent")}startHashChange(){this._unSubscribeHashEvent=pe(window,"hashchange",()=>{this._registerOnHashChange()})}stopHashChange(){this._unSubscribeHashEvent()}getTemplate(){return this._template.asObservable()}getCurrentRoute(){return this._currentRoute}navigateTo(e="",n){e?(window.location.hash.replace(/^#/,"")===e&&this._navigateTo(e,n),window.location.hash="#"+e):this._navigateTo(e,n)}_registerOnHashChange(){const e=window.location.hash.replace(/^#/,"");this._navigateTo(e,null)}_routeMatcher(e,n){if(e){const r=new RegExp(e.replace(/:[^\s/]+/g,"([\\w-]+)"));return n.match(r)}else return e===n}_navigateTo(e,n){const r=e.split("/").filter(i=>i.length>0),a=E.routeList.filter(i=>{if(i.Params.length===r.length&&this._routeMatcher(i.Url,e))return i;if(i.Url===e)return i}),s=a.length>0?a[0]:null;s&&(this._currentRoute.path=e,this._currentRoute.state=_({},n||{}),G(s.canActivate()).subscribe(i=>{if(!i)return;const f=E.checkParams(r,s);if(Object.keys(f).length>0||e){this._currentRoute.routeParams=new Map(Object.entries(f));const y=window.location.hash.split("?")[1]?new URLSearchParams(window.location.hash.split("?")[1]).entries():[];this._currentRoute.queryParams=new Map(y),s.IsRegistered?this._template.next(s.Template):s.TemplatePath&&G(s.TemplatePath()).subscribe(()=>{s.IsRegistered=!0,this._template.next(s.Template)})}else this.navigateTo(s.redirectTo,n)}))}};R=P([x()],R);let Y=class{constructor(e,n){m(this,"internalRouterSrvc");m(this,"renderer");m(this,"_template","");m(this,"_templateSubscription");this.internalRouterSrvc=e,this.renderer=n}beforeMount(){this._templateSubscription=this.internalRouterSrvc.getTemplate().subscribe(e=>{this._template=e,this.renderer.update()}),this.internalRouterSrvc.startHashChange()}mount(){const e=window.location.hash.replace(/^#/,"");this.internalRouterSrvc.navigateTo(e,null)}unmount(){this._templateSubscription(),this.internalRouterSrvc.stopHashChange()}render(){if(this._template){const e=[`${this._template}`];return e.raw=[`${this._template}`],U(e)}else return U``}};Y=P([oe({selector:"router-outlet",deps:[R,k]}),M("design:paramtypes",[R,k])],Y);let K=class{constructor(e){m(this,"internalRouter");this.internalRouter=e}getCurrentRoute(){return this.internalRouter.getCurrentRoute()}navigateTo(e,n){this.internalRouter.navigateTo(e,n)}static registerRoutes(e,n=!1){if(Array.isArray(e)){for(const r of e)E.formatRoute(r);n&&E.preloadRoutes()}else throw Error("router.addRoutes: the parameter must be an array")}};K=P([x({deps:[R]}),M("design:paramtypes",[R])],K);export{oe as C,B as D,x as I,K as R,J as T,P as _,k as a,M as b,ye as c,Se as d,ve as e,be as f,U as h,ee as r,_e as u};
