(self.webpackChunkplumejs_example_repo=self.webpackChunkplumejs_example_repo||[]).push([[847],{905:(t,e,n)=>{"use strict";n.d(e,{Hb:()=>a});const o=new WeakMap;function r(t,e){return o.get(t)&&o.get(t).get(e)}function c(t,e,n){if(void 0===e)throw new TypeError;const o=r(e,n);return o&&o.get(t)}function i(t,e,n,c){if(c&&!["string","symbol"].includes(typeof c))throw new TypeError;(r(n,c)||function(t,e){const n=o.get(t)||new Map;o.set(t,n);const r=n.get(e)||new Map;return n.set(e,r),r}(n,c)).set(t,e)}function u(t,e,n){return c(t,e,n)?c(t,e,n):Object.getPrototypeOf(e)?u(t,Object.getPrototypeOf(e),n):void 0}const a={decorate:function(t,e,n,o){if(!Array.isArray(t)||0===t.length)throw new TypeError;return void 0!==n?function(t,e,n,o){return t.reverse().forEach((t=>{o=t(e,n,o)||o})),o}(t,e,n,o):"function"==typeof e?function(t,e){return t.reverse().forEach((t=>{const n=t(e);n&&(e=n)})),e}(t,e):void 0},defineMetadata:function(t,e,n,o){i(t,e,n,o)},getMetadata:function(t,e,n){return u(t,e,n)},getOwnMetadata:function(t,e,n){return c(t,e,n)},hasMetadata:function(t,e,n){return!!u(t,e,n)},hasOwnMetadata:function(t,e,n){return!!c(t,e,n)},metadata:function(t,e){return function(n,o){i(t,e,n,o)}}};Object.assign(Reflect,a)},818:(t,e)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o="undefined"!=typeof window&&void 0!==window.document,r="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,c="object"===("undefined"==typeof self?"undefined":n(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,i="undefined"!=typeof window&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),u="undefined"!=typeof Deno&&void 0!==Deno.core;e.UG=r},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,c){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(o)for(var u=0;u<this.length;u++){var a=this[u][0];null!=a&&(i[a]=!0)}for(var f=0;f<t.length;f++){var s=[].concat(t[f]);o&&i[s[0]]||(void 0!==c&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=c),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),r&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=r):s[4]="".concat(r)),e.push(s))}},e}},537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),c="/*# ".concat(r," */"),i=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(i).concat([c]).join("\n")}return[e].join("\n")}},655:(t,e,n)=>{"use strict";n.d(e,{gn:()=>o,w6:()=>r});function o(t,e,n,o){var r,c=arguments.length,i=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(i=(c<3?r(i):c>3?r(e,n,i):r(e,n))||i);return c>3&&i&&Object.defineProperty(e,n,i),i}function r(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}Object.create;Object.create},949:function(t){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e),n.d(e,"setDefaultLanguage",(function(){return i})),n.d(e,"setTranslate",(function(){return l}));var r="pt",c={},i=function(t){r=t},u=function(t){return null!==t&&"object"===o(t)},a=function(t){return null!==t&&"string"==typeof t},f=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s=function(t,e,n){var o;if(e){if(!isNaN(parseInt(e)))return e;if(t){for(var r,c=e.trim().split("."),i=0,a=c.length;i<a;i++)if((r=r?r[c[i]]:t[c[i]])&&!u(r))return r;o=r}}return o||n};Object.assign(String.prototype,{translate:function(){var t,e,n;arguments.length>0&&((arguments.length<=0?void 0:arguments[0])&&a(arguments.length<=0?void 0:arguments[0])&&(e=arguments.length<=0?void 0:arguments[0]),(arguments.length<=0?void 0:arguments[0])&&u(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0]),(arguments.length<=1?void 0:arguments[1])&&u(arguments.length<=1?void 0:arguments[1])&&(n=arguments.length<=1?void 0:arguments[1])),e||(e=r);var o=c[e]||{};if(f(o,this)&&(t=o[this]),!t){var i=this,l=i.match(/(\[\d+])/g),p=i.match(/(\[\w+])/g);l&&(i=i.replace(/(\[\d+])/g,"[:num]")),p&&(i=i.replace(/(\[\w+])/g,"[:str]")),(t=s(o,this,""))&&(l&&l.forEach((function(e,n){t=(t=(t=t.replace("{$".concat(n+1,"+2}"),parseInt(e.match(/\d+/g),10)+2)).replace("{$".concat(n+1,"+1}"),parseInt(e.match(/\d+/g),10)+1)).replace("$".concat(n+1),e.match(/\d+/g))})),p&&p.forEach((function(e,n){var o=new RegExp("$".concat(n),"g");t=t.replace(o,e.match(/\w+/g))})))}return n&&(t=t.replace(/\{\s?([\w.]+)\s?\}/g,(function(t,e){var o=e.trim();return n[o]||o}))),t||this}});var l=function(t,e){e||(e=r),c[e]||(c[e]={}),Object.assign(c[e],t)}}])}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0cy84NDcuNzY3Y2ZlOWQxMzg1NGFmMmM5NjQuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI0SUFBQSxNQUFNQSxFQUFXLElBQUlDLFFBNEJyQixTQUFTQyxFQUFlQyxFQUFRQyxHQUM1QixPQUFPSixFQUFTSyxJQUFJRixJQUFXSCxFQUFTSyxJQUFJRixHQUFRRSxJQUFJRCxHQUU1RCxTQUFTRSxFQUF1QkMsRUFBYUosRUFBUUMsR0FDakQsUUFBZUksSUFBWEwsRUFDQSxNQUFNLElBQUlNLFVBRWQsTUFBTUMsRUFBY1IsRUFBZUMsRUFBUUMsR0FDM0MsT0FBT00sR0FBZUEsRUFBWUwsSUFBSUUsR0FVMUMsU0FBU0ksRUFBMEJKLEVBQWFLLEVBQWVULEVBQVFDLEdBQ25FLEdBQUlBLElBQWdCLENBQUMsU0FBVSxVQUFVUyxnQkFBZ0JULEdBQ3JELE1BQU0sSUFBSUssV0FFYlAsRUFBZUMsRUFBUUMsSUFaNUIsU0FBMkJELEVBQVFDLEdBQy9CLE1BQU1VLEVBQWlCZCxFQUFTSyxJQUFJRixJQUNoQyxJQUFJWSxJQUNSZixFQUFTZ0IsSUFBSWIsRUFBUVcsR0FDckIsTUFBTUosRUFBY0ksRUFBZVQsSUFBSUQsSUFBZ0IsSUFBSVcsSUFFM0QsT0FEQUQsRUFBZUUsSUFBSVosRUFBYU0sR0FDekJBLEVBT0hPLENBQWtCZCxFQUFRQyxJQUFjWSxJQUFJVCxFQUFhSyxHQUVqRSxTQUFTTSxFQUFvQlgsRUFBYUosRUFBUUMsR0FDOUMsT0FBT0UsRUFBdUJDLEVBQWFKLEVBQVFDLEdBQzdDRSxFQUF1QkMsRUFBYUosRUFBUUMsR0FDNUNlLE9BQU9DLGVBQWVqQixHQUNsQmUsRUFBb0JYLEVBQWFZLE9BQU9DLGVBQWVqQixHQUFTQyxRQUNoRUksRUFzQlAsTUFBTWEsRUFBYSxDQUN0QkMsU0FqRUcsU0FBa0JDLEVBQVlwQixFQUFRQyxFQUFhb0IsR0FDdEQsSUFBS0MsTUFBTUMsUUFBUUgsSUFBcUMsSUFBdEJBLEVBQVdJLE9BQ3pDLE1BQU0sSUFBSWxCLFVBRWQsWUFB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dUMsRUFBRSxFQUFFLE9BQU9rQixTQUFTbkIsRUFBRXdCLE1BQU0sUUFBUSxJQUFJLElBQUlDLFFBQVEsS0FBSy9ELE9BQU91QyxFQUFFLEVBQUUsT0FBT2tCLFNBQVNuQixFQUFFd0IsTUFBTSxRQUFRLElBQUksSUFBSUMsUUFBUSxJQUFJL0QsT0FBT3VDLEVBQUUsR0FBR0QsRUFBRXdCLE1BQU0sWUFBWWpDLEdBQUdBLEVBQUUxRSxTQUFRLFNBQVVtRixFQUFFQyxHQUFHLElBQUlQLEVBQUUsSUFBSWdDLE9BQU8sSUFBSWhFLE9BQU91QyxHQUFHLEtBQUtGLEVBQUVBLEVBQUUwQixRQUFRL0IsRUFBRU0sRUFBRXdCLE1BQU0sYUFBYSxPQUFPdkIsSUFBSUYsRUFBRUEsRUFBRTBCLFFBQVEsdUJBQXNCLFNBQVUxQixFQUFFQyxHQUFHLElBQUlOLEVBQUVNLEVBQUVvQixPQUFPLE9BQU9uQixFQUFFUCxJQUFJQSxNQUFNSyxHQUFHMUMsUUFBUSxJQUFJd0QsRUFBRSxTQUFTZCxFQUFFQyxHQUFHQSxJQUFJQSxFQUFFRSxHQUFHdEMsRUFBRW9DLEtBQUtwQyxFQUFFb0MsR0FBRyxJQUFJOUYsT0FBT3NCLE9BQU9vQyxFQUFFb0MsR0FBR0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGFicmFoYW0vcmVmbGVjdGlvbi9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9icm93c2VyLW9yLW5vZGUvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdmFuaWxsYS1pMThuL2Rpc3QvdmFuaWxsYS1pMThuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IE1ldGFkYXRhID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGRlY29yYXRlUHJvcGVydHkoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuICAgIGRlY29yYXRvcnMucmV2ZXJzZSgpLmZvckVhY2goKGRlY29yYXRvcikgPT4ge1xuICAgICAgICBkZXNjcmlwdG9yID0gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHx8IGRlc2NyaXB0b3I7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlc2NyaXB0b3I7XG59XG5mdW5jdGlvbiBkZWNvcmF0ZUNvbnN0cnVjdG9yKGRlY29yYXRvcnMsIHRhcmdldCkge1xuICAgIGRlY29yYXRvcnMucmV2ZXJzZSgpLmZvckVhY2goKGRlY29yYXRvcikgPT4ge1xuICAgICAgICBjb25zdCBkZWNvcmF0ZWQgPSBkZWNvcmF0b3IodGFyZ2V0KTtcbiAgICAgICAgaWYgKGRlY29yYXRlZCkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gZGVjb3JhdGVkO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRlY29yYXRvcnMpIHx8IGRlY29yYXRvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICB9XG4gICAgaWYgKHByb3BlcnR5S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGRlY29yYXRlUHJvcGVydHkoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBkZWNvcmF0ZUNvbnN0cnVjdG9yKGRlY29yYXRvcnMsIHRhcmdldCk7XG4gICAgfVxuICAgIHJldHVybjtcbn1cbmZ1bmN0aW9uIGdldE1ldGFkYXRhTWFwKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICByZXR1cm4gTWV0YWRhdGEuZ2V0KHRhcmdldCkgJiYgTWV0YWRhdGEuZ2V0KHRhcmdldCkuZ2V0KHByb3BlcnR5S2V5KTtcbn1cbmZ1bmN0aW9uIG9yZGluYXJ5R2V0T3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgIH1cbiAgICBjb25zdCBtZXRhZGF0YU1hcCA9IGdldE1ldGFkYXRhTWFwKHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgIHJldHVybiBtZXRhZGF0YU1hcCAmJiBtZXRhZGF0YU1hcC5nZXQobWV0YWRhdGFLZXkpO1xufVxuZnVuY3Rpb24gY3JlYXRlTWV0YWRhdGFNYXAodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgIGNvbnN0IHRhcmdldE1ldGFkYXRhID0gTWV0YWRhdGEuZ2V0KHRhcmdldCkgfHxcbiAgICAgICAgbmV3IE1hcCgpO1xuICAgIE1ldGFkYXRhLnNldCh0YXJnZXQsIHRhcmdldE1ldGFkYXRhKTtcbiAgICBjb25zdCBtZXRhZGF0YU1hcCA9IHRhcmdldE1ldGFkYXRhLmdldChwcm9wZXJ0eUtleSkgfHwgbmV3IE1hcCgpO1xuICAgIHRhcmdldE1ldGFkYXRhLnNldChwcm9wZXJ0eUtleSwgbWV0YWRhdGFNYXApO1xuICAgIHJldHVybiBtZXRhZGF0YU1hcDtcbn1cbmZ1bmN0aW9uIG9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICBpZiAocHJvcGVydHlLZXkgJiYgIVsnc3RyaW5nJywgJ3N5bWJvbCddLmluY2x1ZGVzKHR5cGVvZiBwcm9wZXJ0eUtleSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgIH1cbiAgICAoZ2V0TWV0YWRhdGFNYXAodGFyZ2V0LCBwcm9wZXJ0eUtleSkgfHxcbiAgICAgICAgY3JlYXRlTWV0YWRhdGFNYXAodGFyZ2V0LCBwcm9wZXJ0eUtleSkpLnNldChtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG59XG5mdW5jdGlvbiBvcmRpbmFyeUdldE1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgcmV0dXJuIG9yZGluYXJ5R2V0T3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpXG4gICAgICAgID8gb3JkaW5hcnlHZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSlcbiAgICAgICAgOiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KVxuICAgICAgICAgICAgPyBvcmRpbmFyeUdldE1ldGFkYXRhKG1ldGFkYXRhS2V5LCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KSwgcHJvcGVydHlLZXkpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICBvcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgcmV0dXJuIG9yZGluYXJ5R2V0TWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgcmV0dXJuIG9yZGluYXJ5R2V0T3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc093bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgcmV0dXJuICEhb3JkaW5hcnlHZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICByZXR1cm4gISFvcmRpbmFyeUdldE1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVNZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgIG9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpO1xufVxuZXhwb3J0IGNvbnN0IFJlZmxlY3Rpb24gPSB7XG4gICAgZGVjb3JhdGUsXG4gICAgZGVmaW5lTWV0YWRhdGEsXG4gICAgZ2V0TWV0YWRhdGEsXG4gICAgZ2V0T3duTWV0YWRhdGEsXG4gICAgaGFzTWV0YWRhdGEsXG4gICAgaGFzT3duTWV0YWRhdGEsXG4gICAgbWV0YWRhdGEsXG59O1xuT2JqZWN0LmFzc2lnbihSZWZsZWN0LCBSZWZsZWN0aW9uKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCI7XG5cbnZhciBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzLnZlcnNpb25zICE9IG51bGwgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlICE9IG51bGw7XG5cbnZhciBpc1dlYldvcmtlciA9ICh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHNlbGYpKSA9PT0gXCJvYmplY3RcIiAmJiBzZWxmLmNvbnN0cnVjdG9yICYmIHNlbGYuY29uc3RydWN0b3IubmFtZSA9PT0gXCJEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZVwiO1xuXG4vKipcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pzZG9tL2pzZG9tL3JlbGVhc2VzL3RhZy8xMi4wLjBcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pzZG9tL2pzZG9tL2lzc3Vlcy8xNTM3XG4gKi9cbnZhciBpc0pzRG9tID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubmFtZSA9PT0gXCJub2RlanNcIiB8fCB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIChuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwiTm9kZS5qc1wiKSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwianNkb21cIikpO1xuXG52YXIgaXNEZW5vID0gdHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIERlbm8uY29yZSAhPT0gXCJ1bmRlZmluZWRcIjtcblxuZXhwb3J0cy5pc0Jyb3dzZXIgPSBpc0Jyb3dzZXI7XG5leHBvcnRzLmlzV2ViV29ya2VyID0gaXNXZWJXb3JrZXI7XG5leHBvcnRzLmlzTm9kZSA9IGlzTm9kZTtcbmV4cG9ydHMuaXNKc0RvbSA9IGlzSnNEb207XG5leHBvcnRzLmlzRGVubyA9IGlzRGVubzsiLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCBcIlwiKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwibGliXCIsW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5saWI9ZSgpOnQubGliPWUoKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT17fTtmdW5jdGlvbiBuKHIpe2lmKGVbcl0pcmV0dXJuIGVbcl0uZXhwb3J0czt2YXIgbz1lW3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtyXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxuKSxvLmw9ITAsby5leHBvcnRzfXJldHVybiBuLm09dCxuLmM9ZSxuLmQ9ZnVuY3Rpb24odCxlLHIpe24ubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBvIGluIHQpbi5kKHIsbyxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLG8pKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBuLmQoZSxcImFcIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD1cIlwiLG4obi5zPTApfShbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuKHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0pKHQpfW4ucihlKSxuLmQoZSxcInNldERlZmF1bHRMYW5ndWFnZVwiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZChlLFwic2V0VHJhbnNsYXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIG89XCJwdFwiLGk9e30sdT1mdW5jdGlvbih0KXtvPXR9LGM9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10JiZcIm9iamVjdFwiPT09cih0KX0sZj1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQmJlwic3RyaW5nXCI9PXR5cGVvZiB0fSxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtpZihlKXtpZighaXNOYU4ocGFyc2VJbnQoZSkpKXJldHVybiBlO2lmKHQpe2Zvcih2YXIgbyxpPWUudHJpbSgpLnNwbGl0KFwiLlwiKSx1PTAsZj1pLmxlbmd0aDt1PGY7dSsrKWlmKChvPW8/b1tpW3VdXTp0W2lbdV1dKSYmIWMobykpcmV0dXJuIG87cj1vfX1yZXR1cm4gcnx8bn07T2JqZWN0LmFzc2lnbihTdHJpbmcucHJvdG90eXBlLHt0cmFuc2xhdGU6ZnVuY3Rpb24oKXt2YXIgdCxlLG47YXJndW1lbnRzLmxlbmd0aD4wJiYoKGFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSkmJmYoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSYmKGU9YXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSwoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSYmYyhhcmd1bWVudHMubGVuZ3RoPD0wP3ZvaWQgMDphcmd1bWVudHNbMF0pJiYobj1hcmd1bWVudHMubGVuZ3RoPD0wP3ZvaWQgMDphcmd1bWVudHNbMF0pLChhcmd1bWVudHMubGVuZ3RoPD0xP3ZvaWQgMDphcmd1bWVudHNbMV0pJiZjKGFyZ3VtZW50cy5sZW5ndGg8PTE/dm9pZCAwOmFyZ3VtZW50c1sxXSkmJihuPWFyZ3VtZW50cy5sZW5ndGg8PTE/dm9pZCAwOmFyZ3VtZW50c1sxXSkpLGV8fChlPW8pO3ZhciByPWlbZV18fHt9O2wocix0aGlzKSYmKHQ9clt0aGlzXSk7dmFyIHU9IXQ7aWYodSl7dmFyIHA9dGhpcyxzPXAubWF0Y2goLyhcXFtcXGQrXSkvZyksZD1wLm1hdGNoKC8oXFxbXFx3K10pL2cpO3MmJihwPXAucmVwbGFjZSgvKFxcW1xcZCtdKS9nLFwiWzpudW1dXCIpKSxkJiYocD1wLnJlcGxhY2UoLyhcXFtcXHcrXSkvZyxcIls6c3RyXVwiKSksKHQ9YShyLHRoaXMsXCJcIikpJiYocyYmcy5mb3JFYWNoKChmdW5jdGlvbihlLG4pe3Q9KHQ9KHQ9dC5yZXBsYWNlKFwieyRcIi5jb25jYXQobisxLFwiKzJ9XCIpLHBhcnNlSW50KGUubWF0Y2goL1xcZCsvZyksMTApKzIpKS5yZXBsYWNlKFwieyRcIi5jb25jYXQobisxLFwiKzF9XCIpLHBhcnNlSW50KGUubWF0Y2goL1xcZCsvZyksMTApKzEpKS5yZXBsYWNlKFwiJFwiLmNvbmNhdChuKzEpLGUubWF0Y2goL1xcZCsvZykpfSkpLGQmJmQuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXt2YXIgcj1uZXcgUmVnRXhwKFwiJFwiLmNvbmNhdChuKSxcImdcIik7dD10LnJlcGxhY2UocixlLm1hdGNoKC9cXHcrL2cpKX0pKSl9cmV0dXJuIG4mJih0PXQucmVwbGFjZSgvXFx7XFxzPyhbXFx3Ll0rKVxccz9cXH0vZywoZnVuY3Rpb24odCxlKXt2YXIgcj1lLnRyaW0oKTtyZXR1cm4gbltyXXx8cn0pKSksdHx8dGhpc319KTt2YXIgcD1mdW5jdGlvbih0LGUpe2V8fChlPW8pLGlbZV18fChpW2VdPXt9KSxPYmplY3QuYXNzaWduKGlbZV0sdCl9fV0pfSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFuaWxsYS1pMThuLmpzLm1hcCJdLCJuYW1lcyI6WyJNZXRhZGF0YSIsIldlYWtNYXAiLCJnZXRNZXRhZGF0YU1hcCIsInRhcmdldCIsInByb3BlcnR5S2V5IiwiZ2V0Iiwib3JkaW5hcnlHZXRPd25NZXRhZGF0YSIsIm1ldGFkYXRhS2V5IiwidW5kZWZpbmVkIiwiVHlwZUVycm9yIiwibWV0YWRhdGFNYXAiLCJvcmRpbmFyeURlZmluZU93bk1ldGFkYXRhIiwibWV0YWRhdGFWYWx1ZSIsImluY2x1ZGVzIiwidGFyZ2V0TWV0YWRhdGEiLCJNYXAiLCJzZXQiLCJjcmVhdGVNZXRhZGF0YU1hcCIsIm9yZGluYXJ5R2V0TWV0YWRhdGEiLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsIlJlZmxlY3Rpb24iLCJkZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJhdHRyaWJ1dGVzIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsInJldmVyc2UiLCJmb3JFYWNoIiwiZGVjb3JhdG9yIiwiZGVjb3JhdGVQcm9wZXJ0eSIsImRlY29yYXRlZCIsImRlY29yYXRlQ29uc3RydWN0b3IiLCJkZWZpbmVNZXRhZGF0YSIsImdldE1ldGFkYXRhIiwiZ2V0T3duTWV0YWRhdGEiLCJoYXNNZXRhZGF0YSIsImhhc093bk1ldGFkYXRhIiwibWV0YWRhdGEiLCJhc3NpZ24iLCJSZWZsZWN0IiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJpc0Jyb3dzZXIiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImlzTm9kZSIsInByb2Nlc3MiLCJ2ZXJzaW9ucyIsIm5vZGUiLCJpc1dlYldvcmtlciIsInNlbGYiLCJuYW1lIiwiaXNKc0RvbSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImlzRGVubyIsIkRlbm8iLCJjb3JlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsImlkIiwiX2siLCJwdXNoIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsIl9fZGVjb3JhdGUiLCJrZXkiLCJkZXNjIiwiZCIsImMiLCJhcmd1bWVudHMiLCJyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZGVmaW5lUHJvcGVydHkiLCJfX21ldGFkYXRhIiwiY3JlYXRlIiwidCIsImUiLCJuIiwibyIsImwiLCJjYWxsIiwibSIsImVudW1lcmFibGUiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwiX19lc01vZHVsZSIsImJpbmQiLCJkZWZhdWx0IiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInUiLCJmIiwiYSIsImlzTmFOIiwicGFyc2VJbnQiLCJ0cmltIiwic3BsaXQiLCJTdHJpbmciLCJ0cmFuc2xhdGUiLCJtYXRjaCIsInJlcGxhY2UiLCJSZWdFeHAiXSwic291cmNlUm9vdCI6IiJ9