"use strict";(self.webpackChunkplumejs_example_repo=self.webpackChunkplumejs_example_repo||[]).push([[394],{394:function(t,e,s){s.d(e,{wA:function(){return g},B_:function(){return S},GS:function(){return f},Th:function(){return l},D7:function(){return v},dy:function(){return a},sY:function(){return i},uA:function(){return y}});const n=new class{map=new WeakMap;register(t,e){if(this.map.get(t))throw Error(`${t} is already registered service.`);this.map.set(t,e)}getService(t){const e=this.map.get(t);if(e)return e;throw Error(`${t} is not a registered provider.`)}clear(){this.map=new WeakMap}},o=(t,e,s)=>{if(e.length){const o=[];for(const t of e)t.__metadata__?o.push(s):o.push(n.getService(t));return new t(...o)}return new t},r=new class{globalStyles;style_registry;isRootNodeSet;globalStyleTag;constructor(){try{this.globalStyles=new CSSStyleSheet}catch(t){this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}getComputedCss=(t="")=>{let e=[];const s=new CSSStyleSheet;if(s.insertRule(":host { display: block; }"),e=[this.globalStyles,s],t){const s=new CSSStyleSheet;s.replace(t),e.push(s)}return e}},{html:a,render:i}=(()=>{const t=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,e=/<[a-z][^>]+$/i,s=/^attr([^ ]+)/,n=/^insertNode([^ ]+)/,o=t=>{const e={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let s=JSON.stringify(t);const n=t=>e[t]||t;return s=(t=>t.replace(/[&<>\(\)]/g,n))(s),JSON.parse(s)},r=(t,e)=>{const s=t.options,n=Array.isArray(e)?e:[e];let o,r,a=s.length;for(;a--;){r=s[a];const t=r.getAttribute("value")??(r.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ");(r.selected=n.indexOf(t)>-1)&&(o=!0)}o||(t.selectedIndex=-1)};return{html:(a,...i)=>{let l="";const{length:c}=a;for(let s=1;s<c;s++){const n=i[s-1];let o=!1;l+=a[s-1],t.test(l)&&e.test(l)&&(l=l.replace(t,((t,e,n)=>`attr${s-1}=${n||'"'}${e}${n?"":'"'}`)),o=!0),o||(Array.isArray(n)||n instanceof DocumentFragment?l+=`\x3c!--insertNode${s-1}--\x3e`:l+=n)}l+=a[c-1];const d=(t=>{const e=document.createElement("template");return e.innerHTML=t,e.content})(l.trim());return((t,e)=>{const n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null);let a=n.nextNode();for(;a;){if(a.eventSubscriptions=[],a.hasAttributes()){const t=Array.from(a.attributes).filter((t=>s.test(t.nodeName)));for(const{nodeName:n,nodeValue:i}of t){const t=s.exec(n)[1];switch(!0){case/^on+/.test(i):{const s=i.slice(2).toLowerCase();a.removeEventListener(s,e[t]),"bindprops"!==s?a.addEventListener(s,e[t]):a.addEventListener(s,(s=>{s.detail.setProps(e[t]())}));break}case/ref/.test(i):e[t](a);break;case/^data-+/.test(i):a.setAttribute(`data-${i}`,o(e[t]));break;case/^aria-+/.test(i):a.setAttribute(`aria-${i}`,o(e[t]));break;case/class/.test(i):e[t]?a.classList.add(...e[t].split(" ")):a.setAttribute("class","");break;case/value/.test(i):"select"===a.nodeName.toLowerCase()?r(a,e[t]):a.value=o(e[t]);break;case/disabled/.test(i):case/checked/.test(i):e[t]?a.setAttribute(i,e[t]):a.removeAttribute(i);break;default:a.setAttribute(i,o(e[t]))}a.removeAttribute(n)}}a=n.nextNode()}})(d,i),((t,e)=>{const s=document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,null);let o,r=s.nextNode();for(;r;){if(o=n.exec(r.data)){const n=Array.isArray(e[o[1]])?e[o[1]]:[e[o[1]]];r.replaceWith(...n),s.currentNode=t}r=s.nextNode()}})(d,i),d},render:(t,e)=>{t.textContent="",t.appendChild(e)}}})();class l{shadowRoot;update;emitEvent;static get __metadata__(){return{name:"Renderer"}}}Symbol("klass");const c=(()=>{try{return new CSSStyleSheet,!1}catch(t){return!0}})(),d=(t,e,s,n=!1)=>(t.addEventListener(e,s,n),()=>{t.removeEventListener(e,s,n)}),u={selector:"",root:!1,styles:"",deps:[]},h=(t,e=null)=>{const s=document.createElement("style");return s.innerHTML=t,e&&e.appendChild(s),s},p=(t,e)=>{if((t={...u,...t}).styles=t.styles.toString(),t.root&&!r.isRootNodeSet)r.isRootNodeSet=!0,t.styles&&(h(t.styles,document.head),r.globalStyles.replace(t.styles));else if(t.root&&r.isRootNodeSet)throw Error("Cannot register duplicate root component in "+t.selector+" component");window.customElements.define(t.selector,class extends HTMLElement{klass;shadow;componentStyleTag=null;eventSubscriptions=[];constructor(){if(super(),this.shadow=this.attachShadow({mode:"open"}),!c){const e=r.getComputedCss(t.styles);this.shadow.adoptedStyleSheets=e}this.update=this.update.bind(this),this.emitEvent=this.emitEvent.bind(this),this.setProps=this.setProps.bind(this),this.getInstance=this.getInstance.bind(this)}emulateComponent(){if(c&&t.styles){const n=(new Date).getTime()+Math.floor(1e3*Math.random()+1),o=(e=t.styles,s=`[data-compid="${n.toString()}"]`,e&&(e=s+" "+e.toString().replace("}",` } ${s} `)),e);this.componentStyleTag=h(o),this.setAttribute("data-compid",n.toString())}var e,s}connectedCallback(){this.emulateComponent();const s=new l;s.update=this.update,s.shadowRoot=this.shadow,s.emitEvent=this.emitEvent,this.klass=o(e,t.deps,s),this.klass.beforeMount&&this.klass.beforeMount(),this.update(),this.klass.mount&&this.klass.mount(),this.emitEvent("bindprops",{setProps:this.setProps},!1),this.eventSubscriptions.push(d(window,"onLanguageChange",(()=>{this.update()})))}update(){i(this.shadow,this.klass.render.bind(this.klass)()),c&&(t.styles&&this.shadow.insertBefore(this.componentStyleTag,this.shadow.childNodes[0]),r.globalStyleTag&&this.shadow.insertBefore(document.importNode(r.globalStyleTag,!0),this.shadow.childNodes[0]))}emitEvent(t,e,s=!0){const n=new CustomEvent(t,{detail:e,bubbles:s});this.dispatchEvent(n)}setProps(t){for(const[e,s]of Object.entries(t))this.klass[e]=s;this.klass.onPropsChanged&&this.klass.onPropsChanged(),this.update()}getInstance(){return this.klass}disconnectedCallback(){if(this.componentStyleTag&&this.componentStyleTag.remove(),this.klass.unmount&&this.klass.unmount(),this.eventSubscriptions?.length)for(const t of this.eventSubscriptions)t()}})},m={deps:[]},g=t=>e=>{if(t.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");window.customElements.get(t.selector)||(Object.defineProperty(e.prototype,"selector",{get:()=>t.selector}),p(t,e))},f=(t={})=>e=>{t={...m,...t};const s=o(e,t.deps);n.register(e,s)};var b=s(655);let S=class{transition="";constructor(){this.whichTransitionEnd()}whichTransitionEnd(){const t=document.createElement("div").style,e={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(const s in e)if(void 0!==t[s]){this.transition=e[s];break}}onTransitionEnd(t,e,s){let n=!1,o=null;const r=()=>{n||(n=!0,e&&e(),o(),o=null)};o=d(t,this.transition,(()=>{r()})),setTimeout(r,s)}};S=(0,b.gn)([f(),(0,b.w6)("design:paramtypes",[])],S);const y=t=>{const e={...t},[s,n]=(t=>{const e=t;return[e,t=>{let s;s="function"==typeof t?t(e):t,Object.assign(e,s)}]})(t);return[s,t=>e=>{const o=(t=>{let e;switch(t.nodeName&&t.nodeName.toLowerCase()){case"input":case"textarea":e=["radio","checkbox"].includes(t.type)?!!t.checked&&(null===t.value||"on"===t.value||t.value):t.value;break;case"select":{const s="select-one"===t.type,n=[...Array.from(t.options)].filter((t=>t.selected)).map((t=>t.value??(t.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")));e=s?n[0]:n;break}default:e=t.value}return e})(e.target);n((()=>(s[t]=o,s)))},()=>{Object.assign(s,e)}]};var w=s(949);let v=class{_defaultLanguage="";setTranslate(t,e){(0,w.setTranslate)(t,e)}setDefaultLanguage(t){this._defaultLanguage=t,(0,w.setDefaultLanguage)(t);const e=new CustomEvent("onLanguageChange");window.dispatchEvent(e)}getCurrentLanguage(){return this._defaultLanguage}};v=(0,b.gn)([f()],v)}}]);
//# sourceMappingURL=../sourcemaps/394.js.map