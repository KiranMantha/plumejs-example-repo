"use strict";(self.webpackChunkplumejs_example_repo=self.webpackChunkplumejs_example_repo||[]).push([[394],{6394:(e,t,s)=>{s.d(t,{wA:()=>w,B_:()=>C,GS:()=>v,Th:()=>Renderer,D7:()=>N,dy:()=>p,sY:()=>m,uA:()=>E,lN:()=>d});var n=s(1905);const o=new class{map=new Map;register(e,t){if(this.map.get(e))throw Error(`${e} is already registered service.`);this.map.set(e,t)}getService(e){const t=this.map.get(e);if(t)return t;throw Error(`${e} is not a registered provider.`)}clear(){this.map=new Map}},a=(e,t,s)=>{const n=[];for(let e=0;e<t.length;e++)"Renderer"!==t[e]?n.push(o.getService(t[e])):n.push(s);return n.length>0?new e(...n):new e};var r=s(3818);const i=new class{globalStyles;style_registry;isRootNodeSet;globalStyleTag;constructor(){try{this.globalStyles=new CSSStyleSheet}catch(e){this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}getComputedCss=(e="")=>{let t=[];const s=new CSSStyleSheet;if(s.insertRule(":host { display: block; }"),t=[this.globalStyles,s],e){const s=new CSSStyleSheet;s.replace(e),t.push(s)}return t}};var l=s(1954),c=s(2845);Symbol("klass");const d=e=>{return(t=e)&&"function"==typeof t.subscribe?e:(e=>!!e&&"function"==typeof e.then)(e)?(0,l.D)(Promise.resolve(e)):(0,c.of)(e);var t},h=(()=>{try{return new CSSStyleSheet,!1}catch(e){return!0}})(),u=(e,t,s,n=!1)=>{e.addEventListener(t,s,n);return()=>{e.removeEventListener(t,s,n)}},{html:p,render:m}=(()=>{const e=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,t=/<[a-z][^>]+$/i,s=/^attr([^ ]+)/,n=/^insertNode([^ ]+)/,o=e=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let s=JSON.stringify(e);const n=e=>t[e]||e;return s=(e=>e.replace(/[&<>\(\)]/g,n))(s),JSON.parse(s)},a=(e,t)=>{const s=e.options,n=Array.isArray(t)?t:[t];let o,a,r=s.length;for(;r--;){a=s[r];const e=a.getAttribute("value")??(a.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ");(a.selected=n.indexOf(e)>-1)&&(o=!0)}o||(e.selectedIndex=-1)};return{html:(r,...i)=>{let l="";const{length:c}=r;for(let s=1;s<c;s++){const n=i[s-1];let o=!1;l+=r[s-1],e.test(l)&&t.test(l)&&(l=l.replace(e,((e,t,n)=>`attr${s-1}=${n||'"'}${t}${n?"":'"'}`)),o=!0),o||(Array.isArray(n)||n instanceof DocumentFragment?l+=`\x3c!--insertNode${s-1}--\x3e`:l+=n)}l+=r[c-1];const d=(e=>{const t=document.createElement("template");return t.innerHTML=e,t.content})(l.trim());return((e,t)=>{const n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let r=n.nextNode();for(;r;){if(r.eventSubscriptions=[],r.hasAttributes()){const e=Array.from(r.attributes).filter((e=>s.test(e.nodeName)));for(const{nodeName:n,nodeValue:i}of e){const e=s.exec(n)[1];switch(!0){case/^on+/.test(i):{const s=i.slice(2).toLowerCase(),n=u(r,s,t[e]);r.eventSubscriptions.push(n);break}case/ref/.test(i):t[e](r);break;case/^data-+/.test(i):r.setAttribute(`data-${i}`,o(t[e]));break;case/^aria-+/.test(i):r.setAttribute(`aria-${i}`,o(t[e]));break;case/class/.test(i):t[e]?r.classList.add(...t[e].split(" ")):r.setAttribute("class","");break;case/value/.test(i):"select"===r.nodeName.toLowerCase()?a(r,t[e]):r.value=o(t[e]);break;case/disabled/.test(i):case/checked/.test(i):t[e]?r.setAttribute(i,t[e]):r.removeAttribute(i);break;default:r.setAttribute(i,o(t[e]))}r.removeAttribute(n)}}r=n.nextNode()}})(d,i),((e,t)=>{const s=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,null);let o,a=s.nextNode();for(;a;){if(o=n.exec(a.data)){const n=Array.isArray(t[o[1]])?t[o[1]]:[t[o[1]]];a.replaceWith(...n),s.currentNode=e}a=s.nextNode()}})(d,i),d},render:(e,t)=>{e.textContent="",e.appendChild(t)}}})();class Renderer{shadowRoot;update;emitEvent}const g="data-compid",b={selector:"",root:!1,styles:""},f=(e,t=null)=>{const s=document.createElement("style");return s.innerHTML=e,t&&t.appendChild(s),s},S=(e,t,s)=>{if((e={...b,...e}).styles=e.styles.toString(),!r.UG)if(e.root&&!i.isRootNodeSet)i.isRootNodeSet=!0,e.styles&&(f(e.styles,document.head),i.globalStyles.replace(e.styles));else if(e.root&&i.isRootNodeSet)throw Error("Cannot register duplicate root component in "+e.selector+" component");window.customElements.define(e.selector,class extends HTMLElement{klass;shadow;componentStyleTag=null;eventSubscriptions;constructor(){if(super(),this.shadow=this.attachShadow({mode:"open"}),!h){const t=r.UG?[]:i.getComputedCss(e.styles);this.shadow.adoptedStyleSheets=t}this.update=this.update.bind(this),this.emitEvent=this.emitEvent.bind(this),this.setProps=this.setProps.bind(this),this.getInstance=this.getInstance.bind(this),this.eventSubscriptions=[]}emulateComponent(){if(h&&e.styles){const n=(new Date).getTime()+Math.floor(1e3*Math.random()+1),o=(t=e.styles,s=`[data-compid="${n.toString()}"]`,t&&(t=s+" "+t.toString().replace("}",` } ${s} `)),t);this.componentStyleTag=f(o),this.setAttribute(g,n.toString())}var t,s}connectedCallback(){this.emulateComponent();const e=new Renderer;e.update=this.update,e.shadowRoot=this.shadow,e.emitEvent=this.emitEvent,this.klass=a(t,s,e),this.klass.beforeMount&&this.klass.beforeMount(),this.update(),this.klass.mount&&this.klass.mount(),this.eventSubscriptions.push(u(window,"onLanguageChange",(()=>{this.update()})))}update(){m(this.shadow,this.klass.render.bind(this.klass)()),h&&(e.styles&&this.shadow.insertBefore(this.componentStyleTag,this.shadow.childNodes[0]),i.globalStyleTag&&this.shadow.insertBefore(document.importNode(i.globalStyleTag,!0),this.shadow.childNodes[0]))}emitEvent(e,t,s=!0){const n=new CustomEvent(e,{detail:t,bubbles:s});this.dispatchEvent(n)}setProps(e){for(const[t,s]of Object.entries(e))this.klass[t]=s;this.klass.onPropsChanged&&this.klass.onPropsChanged(),this.update()}getInstance(){return this.klass}disconnectedCallback(){if(this.componentStyleTag&&this.componentStyleTag.remove(),this.klass.unmount&&this.klass.unmount(),this.eventSubscriptions?.length)for(const e of this.eventSubscriptions)e()}})},y=e=>(n.Hb.getMetadata("design:paramtypes",e)||[]).map((e=>e.name)),w=e=>t=>{if(e.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");if(!window.customElements.get(e.selector)){const s=y(t);t.prototype.selector=e.selector,S(e,t,s)}},v=()=>e=>{const t=y(e),s=a(e,t);o.register(e.name,s)};var k=s(655);let C=class DomTransition{transition="";constructor(){this.whichTransitionEnd()}whichTransitionEnd(){const e=document.createElement("div").style,t={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(const s in t)if(void 0!==e[s]){this.transition=t[s];break}}onTransitionEnd(e,t,s){let n=!1,o=null;const a=()=>{n||(n=!0,t&&t(),o(),o=null)};o=u(e,this.transition,(()=>{a()})),setTimeout(a,s)}};C=(0,k.gn)([v(),(0,k.w6)("design:paramtypes",[])],C);const E=e=>{const t={...e},[s,n]=(e=>{const t=e;return[t,e=>{let s;s="function"==typeof e?e(t):e,Object.assign(t,s)}]})(e);return[s,e=>t=>{const o=(e=>{let t;switch(e.nodeName&&e.nodeName.toLowerCase()){case"input":case"textarea":t=["radio","checkbox"].includes(e.type)?!!e.checked&&(null===e.value||"on"===e.value||e.value):e.value;break;case"select":{const s="select-one"===e.type,n=[...Array.from(e.options)].filter((e=>e.selected)).map((e=>e.value??(e.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")));t=s?n[0]:n;break}default:t=e.value}return t})(t.target);n((()=>(s[e]=o,s)))},()=>{Object.assign(s,t)}]};var T=s(7949);let N=class TranslationService{_defaultLanguage="";setTranslate(e,t){(0,T.setTranslate)(e,t)}setDefaultLanguage(e){this._defaultLanguage=e,(0,T.setDefaultLanguage)(e);const t=new CustomEvent("onLanguageChange");window.dispatchEvent(t)}getCurrentLanguage(){return this._defaultLanguage}};N=(0,k.gn)([v()],N)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0cy8zOTQuZmI2OGE4YjY1MjQ3YjMyMmEyNzMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiIwT0FBQSxNQUFNLEVBQVcsSUFBSSxNQUNqQkEsSUFBTSxJQUFJQyxJQUNWQyxTQUFTQyxFQUFhQyxHQUNsQixHQUFLQyxLQUFLTCxJQUFJTSxJQUFJSCxHQUlkLE1BQU1JLE1BQU0sR0FBR0osb0NBSGZFLEtBQUtMLElBQUlRLElBQUlMLEVBQWFDLEdBTWxDSyxXQUFXTixHQUNQLE1BQU1DLEVBQVdDLEtBQUtMLElBQUlNLElBQUlILEdBQzlCLEdBQUlDLEVBQ0EsT0FBT0EsRUFHUCxNQUFNRyxNQUFNLEdBQUdKLG1DQUd2Qk8sUUFDSUwsS0FBS0wsSUFBTSxJQUFJQyxNQ25CakJVLEVBQWMsQ0FBQ0MsRUFBT0MsRUFBY0MsS0FDdEMsTUFBTUMsRUFBVyxHQUNqQixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUgsRUFBYUksT0FBUUQsSUFDYixhQUFwQkgsRUFBYUcsR0FDYkQsRUFBU0csS0FBSyxhQUFvQkwsRUFBYUcsS0FHL0NELEVBQVNHLEtBQUtKLEdBR3RCLE9BQUlDLEVBQVNFLE9BQVMsRUFDWCxJQUFJTCxLQUFTRyxHQUdiLElBQUlILEcsY0NmbkIsTUFBTU8sRUFBb0IsSUFBSSxNQUMxQkMsYUFDQUMsZUFDQUMsY0FDQUMsZUFDQUMsY0FDSSxJQUNJbkIsS0FBS2UsYUFBZSxJQUFJSyxjQUU1QixNQUFPQyxHQUNIckIsS0FBS2UsYUFBZSxHQUV4QmYsS0FBS2lCLGVBQWdCLEVBQ3JCakIsS0FBS2tCLGVBQWlCLEtBRTFCSSxlQUFpQixDQUFDQyxFQUFTLE1BQ3ZCLElBQUlDLEVBQVcsR0FDZixNQUFNQyxFQUFnQixJQUFJTCxjQUcxQixHQUZBSyxFQUFjQyxXQUFXLDZCQUN6QkYsRUFBVyxDQUFDeEIsS0FBS2UsYUFBY1UsR0FDM0JGLEVBQVEsQ0FDUixNQUFNSSxFQUFRLElBQUlQLGNBQ2xCTyxFQUFNQyxRQUFRTCxHQUNkQyxFQUFTWCxLQUFLYyxH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QUFxQixNQUFNQSxtQkFDM0JDLGlCQUFtQixHQUNuQkMsYUFBYUMsRUFBTUMsSUFDZixJQUFBRixjQUFhQyxFQUFNQyxHQUV2QkMsbUJBQW1CQyxHQUNmcE8sS0FBSytOLGlCQUFtQkssR0FDeEIsSUFBQUQsb0JBQW1CQyxHQUNuQixNQUFNNUQsRUFBUSxJQUFJQyxZQUFZLG9CQUM5QjdCLE9BQU9nQyxjQUFjSixHQUV6QjZELHFCQUNJLE9BQU9yTyxLQUFLK04sbUJBR3BCRCxHQUFxQixRQUFXLENBQzVCbkMsS0FDRG1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwbHVtZWpzL2NvcmUvZGlzdC9tanMvc3JjL2xpYi9zZXJ2aWNlX3Jlc29sdmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGx1bWVqcy9jb3JlL2Rpc3QvbWpzL3NyYy9saWIvaW5zdGFuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwbHVtZWpzL2NvcmUvZGlzdC9tanMvc3JjL2xpYi9jb21wb25lbnRSZWdpc3RyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBsdW1lanMvY29yZS9kaXN0L21qcy9zcmMvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGx1bWVqcy9jb3JlL2Rpc3QvbWpzL3NyYy9saWIvaHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBsdW1lanMvY29yZS9kaXN0L21qcy9zcmMvbGliL3R5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGx1bWVqcy9jb3JlL2Rpc3QvbWpzL3NyYy9saWIvcmVnaXN0ZXJFbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGx1bWVqcy9jb3JlL2Rpc3QvbWpzL3NyYy9saWIvZGVjb3JhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBsdW1lanMvY29yZS9kaXN0L21qcy9zcmMvbGliL2RvbVRyYW5zaXRpb24uc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBsdW1lanMvY29yZS9kaXN0L21qcy9zcmMvbGliL2hvb2tzL3VzZVN0YXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGx1bWVqcy9jb3JlL2Rpc3QvbWpzL3NyYy9saWIvaG9va3MvdXNlRm9ybUZpZWxkcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBsdW1lanMvY29yZS9kaXN0L21qcy9zcmMvbGliL3RyYW5zbGF0aW9uU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBJbmplY3RvciA9IG5ldyAoY2xhc3Mge1xuICAgIG1hcCA9IG5ldyBNYXAoKTtcbiAgICByZWdpc3RlcihzZXJ2aWNlTmFtZSwgaW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hcC5nZXQoc2VydmljZU5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQoc2VydmljZU5hbWUsIGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGAke3NlcnZpY2VOYW1lfSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgc2VydmljZS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTZXJ2aWNlKHNlcnZpY2VOYW1lKSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5tYXAuZ2V0KHNlcnZpY2VOYW1lKTtcbiAgICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgJHtzZXJ2aWNlTmFtZX0gaXMgbm90IGEgcmVnaXN0ZXJlZCBwcm92aWRlci5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxufSkoKTtcbmV4cG9ydCB7IEluamVjdG9yIH07XG4iLCJpbXBvcnQgeyBJbmplY3RvciB9IGZyb20gJy4vc2VydmljZV9yZXNvbHZlcic7XG5jb25zdCBpbnN0YW50aWF0ZSA9IChrbGFzcywgZGVwZW5kZW5jaWVzLCByZW5kZXJlckluc3RhbmNlKSA9PiB7XG4gICAgY29uc3Qgc2VydmljZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZGVwZW5kZW5jaWVzW2ldICE9PSAnUmVuZGVyZXInKSB7XG4gICAgICAgICAgICBzZXJ2aWNlcy5wdXNoKEluamVjdG9yLmdldFNlcnZpY2UoZGVwZW5kZW5jaWVzW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXJ2aWNlcy5wdXNoKHJlbmRlcmVySW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzZXJ2aWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBuZXcga2xhc3MoLi4uc2VydmljZXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBrbGFzcygpO1xuICAgIH1cbn07XG5leHBvcnQgeyBpbnN0YW50aWF0ZSB9O1xuIiwiY29uc3QgY29tcG9uZW50UmVnaXN0cnkgPSBuZXcgKGNsYXNzIHtcbiAgICBnbG9iYWxTdHlsZXM7XG4gICAgc3R5bGVfcmVnaXN0cnk7XG4gICAgaXNSb290Tm9kZVNldDtcbiAgICBnbG9iYWxTdHlsZVRhZztcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsU3R5bGVzID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxTdHlsZXMgPSAnJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzUm9vdE5vZGVTZXQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5nbG9iYWxTdHlsZVRhZyA9IG51bGw7XG4gICAgfVxuICAgIGdldENvbXB1dGVkQ3NzID0gKHN0eWxlcyA9ICcnKSA9PiB7XG4gICAgICAgIGxldCBjc29BcnJheSA9IFtdO1xuICAgICAgICBjb25zdCBkZWZhdWx0U3R5bGVzID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgZGVmYXVsdFN0eWxlcy5pbnNlcnRSdWxlKGA6aG9zdCB7IGRpc3BsYXk6IGJsb2NrOyB9YCk7XG4gICAgICAgIGNzb0FycmF5ID0gW3RoaXMuZ2xvYmFsU3R5bGVzLCBkZWZhdWx0U3R5bGVzXTtcbiAgICAgICAgaWYgKHN0eWxlcykge1xuICAgICAgICAgICAgY29uc3Qgc2hlZXQgPSBuZXcgQ1NTU3R5bGVTaGVldCgpO1xuICAgICAgICAgICAgc2hlZXQucmVwbGFjZShzdHlsZXMpO1xuICAgICAgICAgICAgY3NvQXJyYXkucHVzaChzaGVldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNzb0FycmF5O1xuICAgIH07XG59KSgpO1xuZXhwb3J0IHsgY29tcG9uZW50UmVnaXN0cnkgfTtcbiIsImltcG9ydCB7IGZyb20sIG9mIH0gZnJvbSAncnhqcyc7XG5jb25zdCBrbGFzcyA9IFN5bWJvbCgna2xhc3MnKTtcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbHVlKSA9PiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnO1xuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuY29uc3QgaXNVbmRlZmluZWQgPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PSAndW5kZWZpbmVkJztcbmNvbnN0IGlzT2JzZXJ2YWJsZSA9IChvYmopID0+ICEhb2JqICYmIHR5cGVvZiBvYmouc3Vic2NyaWJlID09PSAnZnVuY3Rpb24nO1xuY29uc3QgaXNQcm9taXNlID0gKG9iaikgPT4gISFvYmogJiYgdHlwZW9mIG9iai50aGVuID09PSAnZnVuY3Rpb24nO1xuY29uc3Qgd3JhcEludG9PYnNlcnZhYmxlID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKGlzT2JzZXJ2YWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1Byb21pc2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmcm9tKFByb21pc2UucmVzb2x2ZSh2YWx1ZSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9mKHZhbHVlKTtcbiAgICB9XG59O1xuY29uc3QgQ1NTX1NIRUVUX05PVF9TVVBQT1JURUQgPSAoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIG5ldyBDU1NTdHlsZVNoZWV0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufSkoKTtcbmNvbnN0IGZyb21FdmVudCA9ICh0YXJnZXQsIGV2ZW50TmFtZSwgb25OZXh0LCBvcHRpb25zID0gZmFsc2UpID0+IHtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG9uTmV4dCwgb3B0aW9ucyk7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgb25OZXh0LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIHJldHVybiB1bnN1YnNjcmliZTtcbn07XG5leHBvcnQgeyBpc09iamVjdCwgaXNGdW5jdGlvbiwgaXNVbmRlZmluZWQsIGlzT2JzZXJ2YWJsZSwgaXNQcm9taXNlLCB3cmFwSW50b09ic2VydmFibGUsIGtsYXNzLCBDU1NfU0hFRVRfTk9UX1NVUFBPUlRFRCwgZnJvbUV2ZW50IH07XG4iLCJpbXBvcnQgeyBmcm9tRXZlbnQgfSBmcm9tICcuL3V0aWxzJztcbmNvbnN0IHsgaHRtbCwgcmVuZGVyIH0gPSAoKCkgPT4ge1xuICAgIGNvbnN0IGlzQXR0cmlidXRlUmVnZXggPSAvKFteXFxzXFxcXD5cIic9XSspXFxzKj1cXHMqKFsnXCJdPykkLztcbiAgICBjb25zdCBpc05vZGVSZWdleCA9IC88W2Etel1bXj5dKyQvaTtcbiAgICBjb25zdCBhdHRyaWJ1dGVQcmVmaXggPSAnYXR0cic7XG4gICAgY29uc3QgYXR0cmlidXRlUmVnZXggPSAvXmF0dHIoW14gXSspLztcbiAgICBjb25zdCBpbnNlcnROb2RlUHJlZml4ID0gJ2luc2VydE5vZGUnO1xuICAgIGNvbnN0IGluc2VydE5vZGVSZWdleCA9IC9eaW5zZXJ0Tm9kZShbXiBdKykvO1xuICAgIGNvbnN0IF9zYW5pdGl6ZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhZ3NUb1JlcGxhY2UgPSB7XG4gICAgICAgICAgICAnJic6ICcmYW1wOycsXG4gICAgICAgICAgICAnPCc6ICcmbHQ7JyxcbiAgICAgICAgICAgICc+JzogJyZndDsnLFxuICAgICAgICAgICAgJygnOiAnJTI4JyxcbiAgICAgICAgICAgICcpJzogJyUyOSdcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHN0ciA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICBjb25zdCByZXBsYWNlVGFnID0gKHRhZykgPT4gdGFnc1RvUmVwbGFjZVt0YWddIHx8IHRhZztcbiAgICAgICAgY29uc3Qgc2FmZV90YWdzX3JlcGxhY2UgPSAoc3RyKSA9PiBzdHIucmVwbGFjZSgvWyY8PlxcKFxcKV0vZywgcmVwbGFjZVRhZyk7XG4gICAgICAgIHN0ciA9IHNhZmVfdGFnc19yZXBsYWNlKHN0cik7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XG4gICAgfTtcbiAgICBjb25zdCBfc2V0VmFsdWVzRm9yRHJvcGRvd24gPSAobm9kZSwgdmFsdWUpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG5vZGUub3B0aW9ucywgdmFsdWVzID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgICAgIGxldCBvcHRpb25TZXQsIG9wdGlvbiwgaSA9IG9wdGlvbnMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBvcHRpb24gPSBvcHRpb25zW2ldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb24uZ2V0QXR0cmlidXRlKCd2YWx1ZScpID8/IChvcHRpb24udGV4dENvbnRlbnQubWF0Y2goL1teXFx4MjBcXHRcXHJcXG5cXGZdKy9nKSB8fCBbXSkuam9pbignICcpO1xuICAgICAgICAgICAgaWYgKChvcHRpb24uc2VsZWN0ZWQgPSB2YWx1ZXMuaW5kZXhPZih2YWx1ZSkgPiAtMSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25TZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghb3B0aW9uU2V0KSB7XG4gICAgICAgICAgICBub2RlLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgX2NyZWF0ZUZyYWdtZW50ID0gKG1hcmt1cCkgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICAgICAgdGVtcC5pbm5lckhUTUwgPSBtYXJrdXA7XG4gICAgICAgIHJldHVybiB0ZW1wLmNvbnRlbnQ7XG4gICAgfTtcbiAgICBjb25zdCBfYmluZEZyYWdtZW50cyA9IChmcmFnbWVudCwgdmFsdWVzKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzV2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihmcmFnbWVudCwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsIG51bGwpO1xuICAgICAgICBsZXQgbm9kZSA9IGVsZW1lbnRzV2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICBub2RlLmV2ZW50U3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlcygpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tQXR0cmlidXRlcyA9IEFycmF5LmZyb20obm9kZS5hdHRyaWJ1dGVzKS5maWx0ZXIoKGF0dHIpID0+IGF0dHJpYnV0ZVJlZ2V4LnRlc3QoYXR0ci5ub2RlTmFtZSkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgeyBub2RlTmFtZSwgbm9kZVZhbHVlIH0gb2YgY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gYXR0cmlidXRlUmVnZXguZXhlYyhub2RlTmFtZSlbMV07XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAvXm9uKy8udGVzdChub2RlVmFsdWUpOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnROYW1lID0gbm9kZVZhbHVlLnNsaWNlKDIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBmcm9tRXZlbnQobm9kZSwgZXZlbnROYW1lLCB2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZXZlbnRTdWJzY3JpcHRpb25zLnB1c2godW5zdWJzY3JpYmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAvcmVmLy50ZXN0KG5vZGVWYWx1ZSk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaV0obm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC9eZGF0YS0rLy50ZXN0KG5vZGVWYWx1ZSk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShgZGF0YS0ke25vZGVWYWx1ZX1gLCBfc2FuaXRpemUodmFsdWVzW2ldKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC9eYXJpYS0rLy50ZXN0KG5vZGVWYWx1ZSk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShgYXJpYS0ke25vZGVWYWx1ZX1gLCBfc2FuaXRpemUodmFsdWVzW2ldKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC9jbGFzcy8udGVzdChub2RlVmFsdWUpOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoLi4udmFsdWVzW2ldLnNwbGl0KCcgJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgL3ZhbHVlLy50ZXN0KG5vZGVWYWx1ZSk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc2VsZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0VmFsdWVzRm9yRHJvcGRvd24obm9kZSwgdmFsdWVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudmFsdWUgPSBfc2FuaXRpemUodmFsdWVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC9kaXNhYmxlZC8udGVzdChub2RlVmFsdWUpOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAvY2hlY2tlZC8udGVzdChub2RlVmFsdWUpOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShub2RlVmFsdWUsIHZhbHVlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShub2RlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShub2RlVmFsdWUsIF9zYW5pdGl6ZSh2YWx1ZXNbaV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShub2RlTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IGVsZW1lbnRzV2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IF9yZXBsYWNlSW5zZXJ0Tm9kZUNvbW1lbnRzID0gKGZyYWdtZW50LCB2YWx1ZXMpID0+IHtcbiAgICAgICAgY29uc3QgY29tbWVudHNXYWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGZyYWdtZW50LCBOb2RlRmlsdGVyLlNIT1dfQ09NTUVOVCwgbnVsbCk7XG4gICAgICAgIGxldCBub2RlID0gY29tbWVudHNXYWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICAgICAgaWYgKChtYXRjaCA9IGluc2VydE5vZGVSZWdleC5leGVjKG5vZGUuZGF0YSkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZXNMaXN0ID0gQXJyYXkuaXNBcnJheSh2YWx1ZXNbbWF0Y2hbMV1dKSA/IHZhbHVlc1ttYXRjaFsxXV0gOiBbdmFsdWVzW21hdGNoWzFdXV07XG4gICAgICAgICAgICAgICAgbm9kZS5yZXBsYWNlV2l0aCguLi5ub2Rlc0xpc3QpO1xuICAgICAgICAgICAgICAgIGNvbW1lbnRzV2Fsa2VyLmN1cnJlbnROb2RlID0gZnJhZ21lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gY29tbWVudHNXYWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaHRtbCA9ICh0ZW1wbGF0ZXMsIC4uLnZhbHVlcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSB0ZW1wbGF0ZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlID0gdmFsdWVzW2kgLSAxXTtcbiAgICAgICAgICAgIGxldCBpc0F0dHJpYnV0ZVBhcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0ZW1wbGF0ZXNbaSAtIDFdO1xuICAgICAgICAgICAgaWYgKGlzQXR0cmlidXRlUmVnZXgudGVzdChyZXN1bHQpICYmIGlzTm9kZVJlZ2V4LnRlc3QocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKGlzQXR0cmlidXRlUmVnZXgsIChfLCAkMSwgJDIpID0+IGAke2F0dHJpYnV0ZVByZWZpeH0ke2kgLSAxfT0keyQyIHx8ICdcIid9JHskMX0keyQyID8gJycgOiAnXCInfWApO1xuICAgICAgICAgICAgICAgIGlzQXR0cmlidXRlUGFydCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzQXR0cmlidXRlUGFydCkge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhcmlhYmxlKSB8fCB2YXJpYWJsZSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGA8IS0tJHtpbnNlcnROb2RlUHJlZml4fSR7aSAtIDF9LS0+YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSB2YXJpYWJsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9IHRlbXBsYXRlc1tsZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBfY3JlYXRlRnJhZ21lbnQocmVzdWx0LnRyaW0oKSk7XG4gICAgICAgIF9iaW5kRnJhZ21lbnRzKGZyYWdtZW50LCB2YWx1ZXMpO1xuICAgICAgICBfcmVwbGFjZUluc2VydE5vZGVDb21tZW50cyhmcmFnbWVudCwgdmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIGZyYWdtZW50O1xuICAgIH07XG4gICAgY29uc3QgcmVuZGVyID0gKHdoZXJlLCB3aGF0KSA9PiB7XG4gICAgICAgIHdoZXJlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHdoZXJlLmFwcGVuZENoaWxkKHdoYXQpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgaHRtbCwgcmVuZGVyIH07XG59KSgpO1xuZXhwb3J0IHsgaHRtbCwgcmVuZGVyIH07XG4iLCJjbGFzcyBSZW5kZXJlciB7XG4gICAgc2hhZG93Um9vdDtcbiAgICB1cGRhdGU7XG4gICAgZW1pdEV2ZW50O1xufVxuZXhwb3J0IHsgUmVuZGVyZXIgfTtcbiIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJ2Jyb3dzZXItb3Itbm9kZSc7XG5pbXBvcnQgeyBjb21wb25lbnRSZWdpc3RyeSB9IGZyb20gJy4vY29tcG9uZW50UmVnaXN0cnknO1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAnLi9odG1sJztcbmltcG9ydCB7IGluc3RhbnRpYXRlIH0gZnJvbSAnLi9pbnN0YW5jZSc7XG5pbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgQ1NTX1NIRUVUX05PVF9TVVBQT1JURUQsIGZyb21FdmVudCB9IGZyb20gJy4vdXRpbHMnO1xuY29uc3QgQ09NUE9ORU5UX0RBVEFfQVRUUiA9ICdkYXRhLWNvbXBpZCc7XG5jb25zdCBERUZBVUxUX0NPTVBPTkVOVF9PUFRJT05TID0ge1xuICAgIHNlbGVjdG9yOiAnJyxcbiAgICByb290OiBmYWxzZSxcbiAgICBzdHlsZXM6ICcnXG59O1xuY29uc3QgY3JlYXRlU3R5bGVUYWcgPSAoY29udGVudCwgd2hlcmUgPSBudWxsKSA9PiB7XG4gICAgY29uc3QgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICB0YWcuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICB3aGVyZSAmJiB3aGVyZS5hcHBlbmRDaGlsZCh0YWcpO1xuICAgIHJldHVybiB0YWc7XG59O1xuY29uc3QgdHJhbnNmb3JtQ1NTID0gKHN0eWxlcywgc2VsZWN0b3IpID0+IHtcbiAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgIHN0eWxlcyA9IHNlbGVjdG9yICsgJyAnICsgc3R5bGVzLnRvU3RyaW5nKCkucmVwbGFjZSgnfScsIGAgfSAke3NlbGVjdG9yfSBgKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlcztcbn07XG5jb25zdCByZWdpc3RlckVsZW1lbnQgPSAob3B0aW9ucywgdGFyZ2V0LCBkZXBlbmRlbmNpZXMpID0+IHtcbiAgICBvcHRpb25zID0geyAuLi5ERUZBVUxUX0NPTVBPTkVOVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XG4gICAgb3B0aW9ucy5zdHlsZXMgPSBvcHRpb25zLnN0eWxlcy50b1N0cmluZygpO1xuICAgIGlmICghaXNOb2RlKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnJvb3QgJiYgIWNvbXBvbmVudFJlZ2lzdHJ5LmlzUm9vdE5vZGVTZXQpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZ2lzdHJ5LmlzUm9vdE5vZGVTZXQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlU3R5bGVUYWcob3B0aW9ucy5zdHlsZXMsIGRvY3VtZW50LmhlYWQpO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFJlZ2lzdHJ5Lmdsb2JhbFN0eWxlcy5yZXBsYWNlKG9wdGlvbnMuc3R5bGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLnJvb3QgJiYgY29tcG9uZW50UmVnaXN0cnkuaXNSb290Tm9kZVNldCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCByZWdpc3RlciBkdXBsaWNhdGUgcm9vdCBjb21wb25lbnQgaW4gJyArIG9wdGlvbnMuc2VsZWN0b3IgKyAnIGNvbXBvbmVudCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUob3B0aW9ucy5zZWxlY3RvciwgY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICAgIGtsYXNzO1xuICAgICAgICBzaGFkb3c7XG4gICAgICAgIGNvbXBvbmVudFN0eWxlVGFnID0gbnVsbDtcbiAgICAgICAgZXZlbnRTdWJzY3JpcHRpb25zO1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRvdyA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgICAgICAgICAgaWYgKCFDU1NfU0hFRVRfTk9UX1NVUFBPUlRFRCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkb3B0ZWRTdHlsZVNoZWV0cyA9IGlzTm9kZSA/IFtdIDogY29tcG9uZW50UmVnaXN0cnkuZ2V0Q29tcHV0ZWRDc3Mob3B0aW9ucy5zdHlsZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93LmFkb3B0ZWRTdHlsZVNoZWV0cyA9IGFkb3B0ZWRTdHlsZVNoZWV0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdEV2ZW50ID0gdGhpcy5lbWl0RXZlbnQuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuc2V0UHJvcHMgPSB0aGlzLnNldFByb3BzLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmdldEluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5ldmVudFN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBlbXVsYXRlQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgaWYgKENTU19TSEVFVF9OT1RfU1VQUE9SVEVEICYmIG9wdGlvbnMuc3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAgKyAxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlZENTUyA9IHRyYW5zZm9ybUNTUyhvcHRpb25zLnN0eWxlcywgYFske0NPTVBPTkVOVF9EQVRBX0FUVFJ9PVwiJHtpZC50b1N0cmluZygpfVwiXWApO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50U3R5bGVUYWcgPSBjcmVhdGVTdHlsZVRhZyhjb21waWxlZENTUyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoQ09NUE9ORU5UX0RBVEFfQVRUUiwgaWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICB0aGlzLmVtdWxhdGVDb21wb25lbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVySW5zdGFuY2UgPSBuZXcgUmVuZGVyZXIoKTtcbiAgICAgICAgICAgIHJlbmRlcmVySW5zdGFuY2UudXBkYXRlID0gdGhpcy51cGRhdGU7XG4gICAgICAgICAgICByZW5kZXJlckluc3RhbmNlLnNoYWRvd1Jvb3QgPSB0aGlzLnNoYWRvdztcbiAgICAgICAgICAgIHJlbmRlcmVySW5zdGFuY2UuZW1pdEV2ZW50ID0gdGhpcy5lbWl0RXZlbnQ7XG4gICAgICAgICAgICB0aGlzLmtsYXNzID0gaW5zdGFudGlhdGUodGFyZ2V0LCBkZXBlbmRlbmNpZXMsIHJlbmRlcmVySW5zdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5rbGFzcy5iZWZvcmVNb3VudCAmJiB0aGlzLmtsYXNzLmJlZm9yZU1vdW50KCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5rbGFzcy5tb3VudCAmJiB0aGlzLmtsYXNzLm1vdW50KCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50U3Vic2NyaXB0aW9ucy5wdXNoKGZyb21FdmVudCh3aW5kb3csICdvbkxhbmd1YWdlQ2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlKCkge1xuICAgICAgICAgICAgcmVuZGVyKHRoaXMuc2hhZG93LCB0aGlzLmtsYXNzLnJlbmRlci5iaW5kKHRoaXMua2xhc3MpKCkpO1xuICAgICAgICAgICAgaWYgKENTU19TSEVFVF9OT1RfU1VQUE9SVEVEKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zdHlsZXMgJiYgdGhpcy5zaGFkb3cuaW5zZXJ0QmVmb3JlKHRoaXMuY29tcG9uZW50U3R5bGVUYWcsIHRoaXMuc2hhZG93LmNoaWxkTm9kZXNbMF0pO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFJlZ2lzdHJ5Lmdsb2JhbFN0eWxlVGFnICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93Lmluc2VydEJlZm9yZShkb2N1bWVudC5pbXBvcnROb2RlKGNvbXBvbmVudFJlZ2lzdHJ5Lmdsb2JhbFN0eWxlVGFnLCB0cnVlKSwgdGhpcy5zaGFkb3cuY2hpbGROb2Rlc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZW1pdEV2ZW50KGV2ZW50TmFtZSwgZGF0YSwgYWxsb3dCdWJibGluZyA9IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuICAgICAgICAgICAgICAgIGRldGFpbDogZGF0YSxcbiAgICAgICAgICAgICAgICBidWJibGVzOiBhbGxvd0J1YmJsaW5nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0UHJvcHMocHJvcHNPYmopIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHByb3BzT2JqKSkge1xuICAgICAgICAgICAgICAgIHRoaXMua2xhc3Nba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5rbGFzcy5vblByb3BzQ2hhbmdlZCAmJiB0aGlzLmtsYXNzLm9uUHJvcHNDaGFuZ2VkKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGdldEluc3RhbmNlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMua2xhc3M7XG4gICAgICAgIH1cbiAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudFN0eWxlVGFnICYmIHRoaXMuY29tcG9uZW50U3R5bGVUYWcucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLmtsYXNzLnVubW91bnQgJiYgdGhpcy5rbGFzcy51bm1vdW50KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5ldmVudFN1YnNjcmlwdGlvbnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdW5zdWJzY3JpYmUgb2YgdGhpcy5ldmVudFN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5leHBvcnQgeyByZWdpc3RlckVsZW1lbnQgfTtcbiIsImltcG9ydCB7IFJlZmxlY3Rpb24gYXMgUmVmbGVjdCB9IGZyb20gJ0BhYnJhaGFtL3JlZmxlY3Rpb24nO1xuaW1wb3J0IHsgaW5zdGFudGlhdGUgfSBmcm9tICcuL2luc3RhbmNlJztcbmltcG9ydCB7IHJlZ2lzdGVyRWxlbWVudCB9IGZyb20gJy4vcmVnaXN0ZXJFbGVtZW50JztcbmltcG9ydCB7IEluamVjdG9yIH0gZnJvbSAnLi9zZXJ2aWNlX3Jlc29sdmVyJztcbmNvbnN0IGdldERlcHMgPSAodGFyZ2V0KSA9PiB7XG4gICAgY29uc3QgdHlwZXMgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIHRhcmdldCkgfHwgW107XG4gICAgcmV0dXJuIHR5cGVzLm1hcCgoYSkgPT4gYS5uYW1lKTtcbn07XG5jb25zdCBDb21wb25lbnQgPSAob3B0aW9ucykgPT4gKHRhcmdldCkgPT4ge1xuICAgIGlmIChvcHRpb25zLnNlbGVjdG9yLmluZGV4T2YoJy0nKSA8PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgYXQgbGVhc3QgMSBkYXNoIGluIHRoZSBjdXN0b20gZWxlbWVudCBuYW1lIScpO1xuICAgIH1cbiAgICBpZiAoIXdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQob3B0aW9ucy5zZWxlY3RvcikpIHtcbiAgICAgICAgY29uc3QgZGVwcyA9IGdldERlcHModGFyZ2V0KTtcbiAgICAgICAgdGFyZ2V0LnByb3RvdHlwZS5zZWxlY3RvciA9IG9wdGlvbnMuc2VsZWN0b3I7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudChvcHRpb25zLCB0YXJnZXQsIGRlcHMpO1xuICAgIH1cbn07XG5jb25zdCBJbmplY3RhYmxlID0gKCkgPT4gKHRhcmdldCkgPT4ge1xuICAgIGNvbnN0IGRlcHMgPSBnZXREZXBzKHRhcmdldCk7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW50aWF0ZSh0YXJnZXQsIGRlcHMpO1xuICAgIEluamVjdG9yLnJlZ2lzdGVyKHRhcmdldC5uYW1lLCBpbnN0YW5jZSk7XG59O1xuY29uc3QgSW5qZWN0aW9uVG9rZW4gPSAobmFtZSwgdGFyZ2V0KSA9PiB7XG4gICAgSW5qZWN0b3IucmVnaXN0ZXIobmFtZSwgdGFyZ2V0KTtcbn07XG5leHBvcnQgeyBDb21wb25lbnQsIEluamVjdGFibGUsIEluamVjdGlvblRva2VuIH07XG4iLCJpbXBvcnQgeyBfX2RlY29yYXRlLCBfX21ldGFkYXRhIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnLi9kZWNvcmF0b3JzJztcbmltcG9ydCB7IGZyb21FdmVudCB9IGZyb20gJy4vdXRpbHMnO1xubGV0IERvbVRyYW5zaXRpb24gPSBjbGFzcyBEb21UcmFuc2l0aW9uIHtcbiAgICB0cmFuc2l0aW9uID0gJyc7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMud2hpY2hUcmFuc2l0aW9uRW5kKCk7XG4gICAgfVxuICAgIHdoaWNoVHJhbnNpdGlvbkVuZCgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCBzdHlsZW9iaiA9IGVsZW1lbnQuc3R5bGU7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25zID0ge1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgV2Via2l0VHJhbnNpdGlvbjogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgICAgICAgTW96VHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgT1RyYW5zaXRpb246ICdvdHJhbnNpdGlvbmVuZCdcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCB0IGluIHRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0eWxlb2JqW3RdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25zW3RdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG9uVHJhbnNpdGlvbkVuZChlbGVtZW50LCBjYiwgZHVyYXRpb24pIHtcbiAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgdW5TdWJzY3JpYmVFdmVudCA9IG51bGw7XG4gICAgICAgIGNvbnN0IF9mbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjYiAmJiBjYigpO1xuICAgICAgICAgICAgICAgIHVuU3Vic2NyaWJlRXZlbnQoKTtcbiAgICAgICAgICAgICAgICB1blN1YnNjcmliZUV2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdW5TdWJzY3JpYmVFdmVudCA9IGZyb21FdmVudChlbGVtZW50LCB0aGlzLnRyYW5zaXRpb24sICgpID0+IHtcbiAgICAgICAgICAgIF9mbigpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0VGltZW91dChfZm4sIGR1cmF0aW9uKTtcbiAgICB9XG59O1xuRG9tVHJhbnNpdGlvbiA9IF9fZGVjb3JhdGUoW1xuICAgIEluamVjdGFibGUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pXG5dLCBEb21UcmFuc2l0aW9uKTtcbmV4cG9ydCB7IERvbVRyYW5zaXRpb24gfTtcbiIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlscyc7XG5jb25zdCB1c2VTdGF0ZSA9IChvYmopID0+IHtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSBvYmo7XG4gICAgY29uc3QgcmVkdWNlciA9IChmbikgPT4ge1xuICAgICAgICBsZXQgbmV3U3RhdGU7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgICAgICAgbmV3U3RhdGUgPSBmbihpbml0aWFsU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3U3RhdGUgPSBmbjtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuYXNzaWduKGluaXRpYWxTdGF0ZSwgbmV3U3RhdGUpO1xuICAgIH07XG4gICAgcmV0dXJuIFtpbml0aWFsU3RhdGUsIHJlZHVjZXJdO1xufTtcbmV4cG9ydCB7IHVzZVN0YXRlIH07XG4iLCJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJy4vdXNlU3RhdGUnO1xuY29uc3QgX2dldFRhcmdldFZhbHVlID0gKHRhcmdldCkgPT4ge1xuICAgIGxldCB0YXJnZXRWYWx1ZTtcbiAgICBzd2l0Y2ggKHRhcmdldC5ub2RlTmFtZSAmJiB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdpbnB1dCc6XG4gICAgICAgIGNhc2UgJ3RleHRhcmVhJzoge1xuICAgICAgICAgICAgY29uc3Qgbm9uVGV4dEVsZW1lbnRzID0gWydyYWRpbycsICdjaGVja2JveCddO1xuICAgICAgICAgICAgaWYgKG5vblRleHRFbGVtZW50cy5pbmNsdWRlcyh0YXJnZXQudHlwZSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRWYWx1ZSA9IHRhcmdldC5jaGVja2VkXG4gICAgICAgICAgICAgICAgICAgID8gdGFyZ2V0LnZhbHVlICE9PSBudWxsICYmIHRhcmdldC52YWx1ZSAhPT0gJ29uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyB0YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSB0YXJnZXQudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdzZWxlY3QnOiB7XG4gICAgICAgICAgICBjb25zdCBvbmUgPSB0YXJnZXQudHlwZSA9PT0gJ3NlbGVjdC1vbmUnO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IEFycmF5LmZyb20odGFyZ2V0Lm9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBbLi4ub3B0aW9uc11cbiAgICAgICAgICAgICAgICAuZmlsdGVyKChvcHRpb24pID0+IG9wdGlvbi5zZWxlY3RlZClcbiAgICAgICAgICAgICAgICAubWFwKChvcHRpb24pID0+IG9wdGlvbi52YWx1ZSA/PyAob3B0aW9uLnRleHRDb250ZW50Lm1hdGNoKC9bXlxceDIwXFx0XFxyXFxuXFxmXSsvZykgfHwgW10pLmpvaW4oJyAnKSk7XG4gICAgICAgICAgICB0YXJnZXRWYWx1ZSA9IG9uZSA/IHZhbHVlWzBdIDogdmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICB0YXJnZXRWYWx1ZSA9IHRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRWYWx1ZTtcbn07XG5jb25zdCB1c2VGb3JtRmllbGRzID0gKGluaXRpYWxWYWx1ZXMpID0+IHtcbiAgICBjb25zdCBjbG9uZSA9IHsgLi4uaW5pdGlhbFZhbHVlcyB9O1xuICAgIGNvbnN0IFtmb3JtRmllbGRzLCBzZXRGb3JtRmllbGRzXSA9IHVzZVN0YXRlKGluaXRpYWxWYWx1ZXMpO1xuICAgIGNvbnN0IGNyZWF0ZUNoYW5nZUhhbmRsZXIgPSAoa2V5KSA9PiAoZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBfZ2V0VGFyZ2V0VmFsdWUodGFyZ2V0KTtcbiAgICAgICAgc2V0Rm9ybUZpZWxkcygoKSA9PiB7XG4gICAgICAgICAgICBmb3JtRmllbGRzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBmb3JtRmllbGRzO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0Rm9ybUZpZWxkcyA9ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihmb3JtRmllbGRzLCBjbG9uZSk7XG4gICAgfTtcbiAgICByZXR1cm4gW2Zvcm1GaWVsZHMsIGNyZWF0ZUNoYW5nZUhhbmRsZXIsIHJlc2V0Rm9ybUZpZWxkc107XG59O1xuZXhwb3J0IHsgdXNlRm9ybUZpZWxkcyB9O1xuIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgc2V0RGVmYXVsdExhbmd1YWdlLCBzZXRUcmFuc2xhdGUgfSBmcm9tICd2YW5pbGxhLWkxOG4nO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJy4vZGVjb3JhdG9ycyc7XG5sZXQgVHJhbnNsYXRpb25TZXJ2aWNlID0gY2xhc3MgVHJhbnNsYXRpb25TZXJ2aWNlIHtcbiAgICBfZGVmYXVsdExhbmd1YWdlID0gJyc7XG4gICAgc2V0VHJhbnNsYXRlKGkxOG4sIGxhbmcpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRlKGkxOG4sIGxhbmcpO1xuICAgIH1cbiAgICBzZXREZWZhdWx0TGFuZ3VhZ2UobGFuZ3VhZ2UpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdExhbmd1YWdlID0gbGFuZ3VhZ2U7XG4gICAgICAgIHNldERlZmF1bHRMYW5ndWFnZShsYW5ndWFnZSk7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdvbkxhbmd1YWdlQ2hhbmdlJyk7XG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgZ2V0Q3VycmVudExhbmd1YWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdExhbmd1YWdlO1xuICAgIH1cbn07XG5UcmFuc2xhdGlvblNlcnZpY2UgPSBfX2RlY29yYXRlKFtcbiAgICBJbmplY3RhYmxlKClcbl0sIFRyYW5zbGF0aW9uU2VydmljZSk7XG5leHBvcnQgeyBUcmFuc2xhdGlvblNlcnZpY2UgfTtcbiJdLCJuYW1lcyI6WyJtYXAiLCJNYXAiLCJyZWdpc3RlciIsInNlcnZpY2VOYW1lIiwiaW5zdGFuY2UiLCJ0aGlzIiwiZ2V0IiwiRXJyb3IiLCJzZXQiLCJnZXRTZXJ2aWNlIiwiY2xlYXIiLCJpbnN0YW50aWF0ZSIsImtsYXNzIiwiZGVwZW5kZW5jaWVzIiwicmVuZGVyZXJJbnN0YW5jZSIsInNlcnZpY2VzIiwiaSIsImxlbmd0aCIsInB1c2giLCJjb21wb25lbnRSZWdpc3RyeSIsImdsb2JhbFN0eWxlcyIsInN0eWxlX3JlZ2lzdHJ5IiwiaXNSb290Tm9kZVNldCIsImdsb2JhbFN0eWxlVGFnIiwiY29uc3RydWN0b3IiLCJDU1NTdHlsZVNoZWV0IiwiZSIsImdldENvbXB1dGVkQ3NzIiwic3R5bGVzIiwiY3NvQXJyYXkiLCJkZWZhdWx0U3R5bGVzIiwiaW5zZXJ0UnVsZSIsInNoZWV0IiwicmVwbGFjZSIsIlN5bWJvbCIsIndyYXBJbnRvT2JzZXJ2YWJsZSIsInZhbHVlIiwib2JqIiwic3Vic2NyaWJlIiwidGhlbiIsImlzUHJvbWlzZSIsImZyb20iLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9mIiwiQ1NTX1NIRUVUX05PVF9TVVBQT1JURUQiLCJmcm9tRXZlbnQiLCJ0YXJnZXQiLCJldmVudE5hbWUiLCJvbk5leHQiLCJvcHRpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJodG1sIiwicmVuZGVyIiwiaXNBdHRyaWJ1dGVSZWdleCIsImlzTm9kZVJlZ2V4IiwiYXR0cmlidXRlUmVnZXgiLCJpbnNlcnROb2RlUmVnZXgiLCJfc2FuaXRpemUiLCJkYXRhIiwidGFnc1RvUmVwbGFjZSIsInN0ciIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXBsYWNlVGFnIiwidGFnIiwic2FmZV90YWdzX3JlcGxhY2UiLCJwYXJzZSIsIl9zZXRWYWx1ZXNGb3JEcm9wZG93biIsIm5vZGUiLCJ2YWx1ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJvcHRpb25TZXQiLCJvcHRpb24iLCJnZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsIm1hdGNoIiwiam9pbiIsInNlbGVjdGVkIiwiaW5kZXhPZiIsInNlbGVjdGVkSW5kZXgiLCJ0ZW1wbGF0ZXMiLCJyZXN1bHQiLCJ2YXJpYWJsZSIsImlzQXR0cmlidXRlUGFydCIsInRlc3QiLCJfIiwiJDEiLCIkMiIsIkRvY3VtZW50RnJhZ21lbnQiLCJmcmFnbWVudCIsIm1hcmt1cCIsInRlbXAiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJjb250ZW50IiwiX2NyZWF0ZUZyYWdtZW50IiwidHJpbSIsImVsZW1lbnRzV2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsIk5vZGVGaWx0ZXIiLCJTSE9XX0VMRU1FTlQiLCJuZXh0Tm9kZSIsImV2ZW50U3Vic2NyaXB0aW9ucyIsImhhc0F0dHJpYnV0ZXMiLCJjdXN0b21BdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImZpbHRlciIsImF0dHIiLCJub2RlTmFtZSIsIm5vZGVWYWx1ZSIsImV4ZWMiLCJzbGljZSIsInRvTG93ZXJDYXNlIiwidW5zdWJzY3JpYmUiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJzcGxpdCIsInJlbW92ZUF0dHJpYnV0ZSIsIl9iaW5kRnJhZ21lbnRzIiwiY29tbWVudHNXYWxrZXIiLCJTSE9XX0NPTU1FTlQiLCJub2Rlc0xpc3QiLCJyZXBsYWNlV2l0aCIsImN1cnJlbnROb2RlIiwiX3JlcGxhY2VJbnNlcnROb2RlQ29tbWVudHMiLCJ3aGVyZSIsIndoYXQiLCJhcHBlbmRDaGlsZCIsIlJlbmRlcmVyIiwic2hhZG93Um9vdCIsInVwZGF0ZSIsImVtaXRFdmVudCIsIkNPTVBPTkVOVF9EQVRBX0FUVFIiLCJERUZBVUxUX0NPTVBPTkVOVF9PUFRJT05TIiwic2VsZWN0b3IiLCJyb290IiwiY3JlYXRlU3R5bGVUYWciLCJyZWdpc3RlckVsZW1lbnQiLCJ0b1N0cmluZyIsImhlYWQiLCJ3aW5kb3ciLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsIkhUTUxFbGVtZW50Iiwic2hhZG93IiwiY29tcG9uZW50U3R5bGVUYWciLCJzdXBlciIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJhZG9wdGVkU3R5bGVTaGVldHMiLCJiaW5kIiwic2V0UHJvcHMiLCJnZXRJbnN0YW5jZSIsImVtdWxhdGVDb21wb25lbnQiLCJpZCIsIkRhdGUiLCJnZXRUaW1lIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY29tcGlsZWRDU1MiLCJjb25uZWN0ZWRDYWxsYmFjayIsImJlZm9yZU1vdW50IiwibW91bnQiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZE5vZGVzIiwiaW1wb3J0Tm9kZSIsImFsbG93QnViYmxpbmciLCJldmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiYnViYmxlcyIsImRpc3BhdGNoRXZlbnQiLCJwcm9wc09iaiIsImtleSIsIk9iamVjdCIsImVudHJpZXMiLCJvblByb3BzQ2hhbmdlZCIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwicmVtb3ZlIiwidW5tb3VudCIsImdldERlcHMiLCJhIiwibmFtZSIsIkNvbXBvbmVudCIsImRlcHMiLCJwcm90b3R5cGUiLCJJbmplY3RhYmxlIiwiRG9tVHJhbnNpdGlvbiIsInRyYW5zaXRpb24iLCJ3aGljaFRyYW5zaXRpb25FbmQiLCJzdHlsZW9iaiIsInN0eWxlIiwidHJhbnNpdGlvbnMiLCJXZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwidCIsIm9uVHJhbnNpdGlvbkVuZCIsImVsZW1lbnQiLCJjYiIsImR1cmF0aW9uIiwiY2FsbGVkIiwidW5TdWJzY3JpYmVFdmVudCIsIl9mbiIsInNldFRpbWVvdXQiLCJ1c2VGb3JtRmllbGRzIiwiaW5pdGlhbFZhbHVlcyIsImNsb25lIiwiZm9ybUZpZWxkcyIsInNldEZvcm1GaWVsZHMiLCJpbml0aWFsU3RhdGUiLCJmbiIsIm5ld1N0YXRlIiwiYXNzaWduIiwidXNlU3RhdGUiLCJ0YXJnZXRWYWx1ZSIsImluY2x1ZGVzIiwidHlwZSIsImNoZWNrZWQiLCJvbmUiLCJfZ2V0VGFyZ2V0VmFsdWUiLCJUcmFuc2xhdGlvblNlcnZpY2UiLCJfZGVmYXVsdExhbmd1YWdlIiwic2V0VHJhbnNsYXRlIiwiaTE4biIsImxhbmciLCJzZXREZWZhdWx0TGFuZ3VhZ2UiLCJsYW5ndWFnZSIsImdldEN1cnJlbnRMYW5ndWFnZSJdLCJzb3VyY2VSb290IjoiIn0=