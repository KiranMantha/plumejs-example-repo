"use strict";(self.webpackChunkplumejs_example_repo=self.webpackChunkplumejs_example_repo||[]).push([[376],{376:function(t,e,s){s.d(e,{wA:function(){return g},B_:function(){return b},GS:function(){return f},Th:function(){return l},kI:function(){return v},dy:function(){return i},sY:function(){return a},uA:function(){return w}});const n=new class{map=new WeakMap;register(t,e){if(this.map.get(t))throw Error(`${t} is already registered service.`);this.map.set(t,e)}getService(t){const e=this.map.get(t);if(e)return e;throw Error(`${t} is not a registered provider.`)}clear(){this.map=new WeakMap}},r=(t,e,s)=>{if(e.length){const r=[];for(const t of e)t.__metadata__?r.push(s):r.push(n.getService(t));return new t(...r)}return new t},o=new class{globalStyles;style_registry;isRootNodeSet;globalStyleTag;constructor(){try{this.globalStyles=new CSSStyleSheet}catch(t){this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}getComputedCss=(t="",e)=>{let s=[];const n=new CSSStyleSheet;if(n.insertRule(":host { display: block; }"),s=e?[n]:[this.globalStyles,n],t){const e=new CSSStyleSheet;e.replace(t),s.push(e)}return s}},{html:i,render:a}=(()=>{const t=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,e=/<[a-z][^>]+$/i,s=/^attr([^ ]+)/,n=/^insertNode([^ ]+)/,r=t=>{const e={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let s=JSON.stringify(t);const n=t=>e[t]||t;return s=(t=>t.replace(/[&<>\(\)]/g,n))(s),JSON.parse(s)},o=(t,e)=>{const s=t.options,n=Array.isArray(e)?e:[e];let r,o,i=s.length;for(;i--;){o=s[i];const t=o.getAttribute("value")??(o.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ");(o.selected=n.indexOf(t)>-1)&&(r=!0)}r||(t.selectedIndex=-1)};return{html:(i,...a)=>{let l="";const{length:c}=i;for(let s=1;s<c;s++){const n=a[s-1];let r=!1;l+=i[s-1],t.test(l)&&e.test(l)&&(l=l.replace(t,((t,e,n)=>`attr${s-1}=${n||'"'}${e}${n?"":'"'}`)),r=!0),r||(Array.isArray(n)||n instanceof DocumentFragment?l+=`\x3c!--insertNode${s-1}--\x3e`:l+=n)}l+=i[c-1];const u=(t=>{const e=document.createElement("template");return e.innerHTML=t,e.content})(l.trim());return((t,e)=>{const n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null);let i=n.nextNode();for(;i;){if(i.eventSubscriptions=[],i.hasAttributes()){const t=Array.from(i.attributes).filter((t=>s.test(t.nodeName)));for(const{nodeName:n,nodeValue:a}of t){const t=s.exec(n)[1];switch(!0){case/^on+/.test(a):{const s=a.slice(2).toLowerCase();i.removeEventListener(s,e[t]),"bindprops"!==s?i.addEventListener(s,e[t]):i.addEventListener(s,(s=>{s.detail.setProps(e[t]())}));break}case/ref/.test(a):e[t](i);break;case/^data-+/.test(a):i.setAttribute(`data-${a}`,r(e[t]));break;case/^aria-+/.test(a):i.setAttribute(`aria-${a}`,r(e[t]));break;case/class/.test(a):e[t]?i.classList.add(...e[t].split(" ")):i.setAttribute("class","");break;case/value/.test(a):"select"===i.nodeName.toLowerCase()?o(i,e[t]):i.value=r(e[t]);break;case/disabled/.test(a):case/checked/.test(a):e[t]?i.setAttribute(a,e[t]):i.removeAttribute(a);break;default:i.setAttribute(a,r(e[t]))}i.removeAttribute(n)}}i=n.nextNode()}})(u,a),((t,e)=>{const s=document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,null);let r,o=s.nextNode();for(;o;){if(r=n.exec(o.data)){const n=Array.isArray(e[r[1]])?e[r[1]]:[e[r[1]]];o.replaceWith(...n),s.currentNode=t}o=s.nextNode()}})(u,a),u},render:(t,e)=>{t.textContent="",t.appendChild(e)}}})();class l{shadowRoot;update;emitEvent;static get __metadata__(){return{name:"Renderer"}}}Symbol("klass");const c=(()=>{try{return new CSSStyleSheet,!1}catch(t){return!0}})(),u=(t,e,s,n=!1)=>(t.addEventListener(e,s,n),()=>{t.removeEventListener(e,s,n)}),h={selector:"",root:!1,styles:"",deps:[],standalone:!1},d=(t,e=null)=>{const s=document.createElement("style");return s.innerHTML=t,e&&e.appendChild(s),s},p=(t,e)=>{if((t={...h,...t}).styles=t.styles.toString(),t.root&&!o.isRootNodeSet)o.isRootNodeSet=!0,t.styles&&(o.globalStyleTag=d(t.styles,document.head),o.globalStyles.replace(t.styles));else if(t.root&&o.isRootNodeSet)throw Error("Cannot register duplicate root component in "+t.selector+" component");window.customElements.define(t.selector,class extends HTMLElement{klass;shadow;componentStyleTag=null;eventSubscriptions=[];constructor(){if(super(),this.shadow=this.attachShadow({mode:"open"}),!c){const e=o.getComputedCss(t.styles,t.standalone);this.shadow.adoptedStyleSheets=e}this.getInstance=this.getInstance.bind(this)}emulateComponent(){c&&t.styles&&(this.componentStyleTag=d(t.styles))}connectedCallback(){this.emulateComponent();const s=new l;s.update=()=>{this.update()},s.shadowRoot=this.shadow,s.emitEvent=(t,e)=>{this.emitEvent(t,e)},this.klass=r(e,t.deps,s),this.klass.beforeMount&&this.klass.beforeMount(),this.update(),this.klass.mount&&this.klass.mount(),this.emitEvent("bindprops",{setProps:t=>{this.setProps(t)}},!1),this.eventSubscriptions.push(u(window,"onLanguageChange",(()=>{this.update()})))}update(){a(this.shadow,(()=>this.klass.render())()),c&&(t.styles&&this.shadow.insertBefore(this.componentStyleTag,this.shadow.childNodes[0]),o.globalStyleTag&&!t.standalone&&this.shadow.insertBefore(document.importNode(o.globalStyleTag,!0),this.shadow.childNodes[0]))}emitEvent(t,e,s=!0){const n=new CustomEvent(t,{detail:e,bubbles:s});this.dispatchEvent(n)}setProps(t){for(const[e,s]of Object.entries(t))this.klass[e]=s;this.klass.onPropsChanged&&this.klass.onPropsChanged(),this.update()}getInstance(){return this.klass}disconnectedCallback(){if(this.componentStyleTag&&this.componentStyleTag.remove(),this.klass.unmount&&this.klass.unmount(),this.eventSubscriptions?.length)for(const t of this.eventSubscriptions)t()}})},m={deps:[]},g=t=>e=>{if(t.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");window.customElements.get(t.selector)||(Object.defineProperty(e.prototype,"selector",{get:()=>t.selector}),p(t,e))},f=(t={})=>e=>{t={...m,...t};const s=r(e,t.deps);n.register(e,s)};var y=s(655);let b=class{transition="";constructor(){this.whichTransitionEnd()}onTransitionEnd(t,e,s){let n=!1,r=null;const o=()=>{n||(n=!0,e&&e(),r(),r=null)};r=u(t,this.transition,(()=>{o()})),setTimeout(o,s)}animationsComplete(t){return t.getAnimations?Promise.allSettled(t.getAnimations().map((t=>t.finished))):Promise.allSettled([!0])}whichTransitionEnd(){const t=document.createElement("div").style,e={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(const s in e)if(void 0!==t[s]){this.transition=e[s];break}}};b=(0,y.gn)([f(),(0,y.w6)("design:paramtypes",[])],b);class S{_initialValues;_controls;_errors=new Map;constructor(t,e){this._initialValues=t,this._controls=e}get errors(){return this._errors}get valid(){return this._checkValidity(),!this._errors.size}get value(){const t={};for(const[e,s]of Object.entries(this._controls))t[e]=s.value;return t}get(t){return this._controls[t]}reset(t={}){for(const e in this._controls)this._controls[e].value=t[e]||this._initialValues[e];this._errors.clear()}_checkValidity(){this._errors.clear();for(const t in this._controls){const e=this._controls[t].value,s=this._controls[t].validators;this._controls[t].errors=null;for(const n of s){const s=n(e);null!==s&&(this._errors.has(t)?(this._errors.set(t,{...this._errors.get(t),...s}),this._controls[t].errors={...this._controls[t].errors,...s}):(this._errors.set(t,s),this._controls[t].errors=s))}}}}const w=t=>{const e={},s={};for(const[n,r]of Object.entries(t)){const t=Array.isArray(r)?r:[r];e[n]={value:t.shift(),validators:t,errors:null},s[n]=e[n].value}const n=new S(s,e);return[n,t=>e=>{const s=(t=>{let e;switch(t.nodeName&&t.nodeName.toLowerCase()){case"input":case"textarea":e=["radio","checkbox"].includes(t.type)?!!t.checked&&(null===t.value||"on"===t.value||t.value):t.value;break;case"select":{const s="select-one"===t.type,n=[...Array.from(t.options)].filter((t=>t.selected)).map((t=>t.value??(t.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")));e=s?n[0]:n;break}default:e=t.value}return e})(e.target);n.get(t).value=s},()=>{n.reset()}]};class v{static required(t){return t.length?null:{required:!0}}static min(t){return e=>e.length>=t?null:{minLength:{requiredLength:t}}}static max(t){return e=>e.length<=t?null:{maxLength:{requiredLength:t}}}static pattern(t){return e=>new RegExp(t).test(e)?null:{pattern:!0}}}}}]);
//# sourceMappingURL=../sourcemaps/376.js.map