"use strict";(self.webpackChunkplumejs_example_repo=self.webpackChunkplumejs_example_repo||[]).push([[366],{366:function(e,t,s){s.d(t,{wA:function(){return g},B_:function(){return S},GS:function(){return f},Th:function(){return l},dy:function(){return a},sY:function(){return i},uA:function(){return y}});const n=new class{map=new WeakMap;register(e,t){if(this.map.get(e))throw Error(`${e} is already registered service.`);this.map.set(e,t)}getService(e){const t=this.map.get(e);if(t)return t;throw Error(`${e} is not a registered provider.`)}clear(){this.map=new WeakMap}},o=(e,t,s)=>{if(t.length){const o=[];for(const e of t)e.__metadata__?o.push(s):o.push(n.getService(e));return new e(...o)}return new e},r=new class{globalStyles;style_registry;isRootNodeSet;globalStyleTag;constructor(){try{this.globalStyles=new CSSStyleSheet}catch(e){this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}getComputedCss=(e="")=>{let t=[];const s=new CSSStyleSheet;if(s.insertRule(":host { display: block; }"),t=[this.globalStyles,s],e){const s=new CSSStyleSheet;s.replace(e),t.push(s)}return t}},{html:a,render:i}=(()=>{const e=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,t=/<[a-z][^>]+$/i,s=/^attr([^ ]+)/,n=/^insertNode([^ ]+)/,o=e=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let s=JSON.stringify(e);const n=e=>t[e]||e;return s=(e=>e.replace(/[&<>\(\)]/g,n))(s),JSON.parse(s)},r=(e,t)=>{const s=e.options,n=Array.isArray(t)?t:[t];let o,r,a=s.length;for(;a--;){r=s[a];const e=r.getAttribute("value")??(r.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ");(r.selected=n.indexOf(e)>-1)&&(o=!0)}o||(e.selectedIndex=-1)};return{html:(a,...i)=>{let l="";const{length:c}=a;for(let s=1;s<c;s++){const n=i[s-1];let o=!1;l+=a[s-1],e.test(l)&&t.test(l)&&(l=l.replace(e,((e,t,n)=>`attr${s-1}=${n||'"'}${t}${n?"":'"'}`)),o=!0),o||(Array.isArray(n)||n instanceof DocumentFragment?l+=`\x3c!--insertNode${s-1}--\x3e`:l+=n)}l+=a[c-1];const d=(e=>{const t=document.createElement("template");return t.innerHTML=e,t.content})(l.trim());return((e,t)=>{const n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let a=n.nextNode();for(;a;){if(a.eventSubscriptions=[],a.hasAttributes()){const e=Array.from(a.attributes).filter((e=>s.test(e.nodeName)));for(const{nodeName:n,nodeValue:i}of e){const e=s.exec(n)[1];switch(!0){case/^on+/.test(i):{const s=i.slice(2).toLowerCase();a.removeEventListener(s,t[e]),"bindprops"!==s?a.addEventListener(s,t[e]):a.addEventListener(s,(s=>{s.detail.setProps(t[e]())}));break}case/ref/.test(i):t[e](a);break;case/^data-+/.test(i):a.setAttribute(`data-${i}`,o(t[e]));break;case/^aria-+/.test(i):a.setAttribute(`aria-${i}`,o(t[e]));break;case/class/.test(i):t[e]?a.classList.add(...t[e].split(" ")):a.setAttribute("class","");break;case/value/.test(i):"select"===a.nodeName.toLowerCase()?r(a,t[e]):a.value=o(t[e]);break;case/disabled/.test(i):case/checked/.test(i):t[e]?a.setAttribute(i,t[e]):a.removeAttribute(i);break;default:a.setAttribute(i,o(t[e]))}a.removeAttribute(n)}}a=n.nextNode()}})(d,i),((e,t)=>{const s=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,null);let o,r=s.nextNode();for(;r;){if(o=n.exec(r.data)){const n=Array.isArray(t[o[1]])?t[o[1]]:[t[o[1]]];r.replaceWith(...n),s.currentNode=e}r=s.nextNode()}})(d,i),d},render:(e,t)=>{e.textContent="",e.appendChild(t)}}})();class l{shadowRoot;update;emitEvent;static get __metadata__(){return{name:"Renderer"}}}Symbol("klass");const c=(()=>{try{return new CSSStyleSheet,!1}catch(e){return!0}})(),d=(e,t,s,n=!1)=>(e.addEventListener(t,s,n),()=>{e.removeEventListener(t,s,n)}),u={selector:"",root:!1,styles:"",deps:[]},h=(e,t=null)=>{const s=document.createElement("style");return s.innerHTML=e,t&&t.appendChild(s),s},p=(e,t)=>{if((e={...u,...e}).styles=e.styles.toString(),e.root&&!r.isRootNodeSet)r.isRootNodeSet=!0,e.styles&&(h(e.styles,document.head),r.globalStyles.replace(e.styles));else if(e.root&&r.isRootNodeSet)throw Error("Cannot register duplicate root component in "+e.selector+" component");window.customElements.define(e.selector,class extends HTMLElement{klass;shadow;componentStyleTag=null;eventSubscriptions=[];constructor(){if(super(),this.shadow=this.attachShadow({mode:"open"}),!c){const t=r.getComputedCss(e.styles);this.shadow.adoptedStyleSheets=t}this.getInstance=this.getInstance.bind(this)}emulateComponent(){if(c&&e.styles){const n=(new Date).getTime()+Math.floor(1e3*Math.random()+1),o=(t=e.styles,s=`[data-compid="${n.toString()}"]`,t&&(t=s+" "+t.toString().replace("}",` } ${s} `)),t);this.componentStyleTag=h(o),this.setAttribute("data-compid",n.toString())}var t,s}connectedCallback(){this.emulateComponent();const s=new l;s.update=()=>{this.update()},s.shadowRoot=this.shadow,s.emitEvent=(e,t)=>{this.emitEvent(e,t)},this.klass=o(t,e.deps,s),this.klass.beforeMount&&this.klass.beforeMount(),this.update(),this.klass.mount&&this.klass.mount(),this.emitEvent("bindprops",{setProps:e=>{this.setProps(e)}},!1),this.eventSubscriptions.push(d(window,"onLanguageChange",(()=>{this.update()})))}update(){i(this.shadow,(()=>this.klass.render())()),c&&(e.styles&&this.shadow.insertBefore(this.componentStyleTag,this.shadow.childNodes[0]),r.globalStyleTag&&this.shadow.insertBefore(document.importNode(r.globalStyleTag,!0),this.shadow.childNodes[0]))}emitEvent(e,t,s=!0){const n=new CustomEvent(e,{detail:t,bubbles:s});this.dispatchEvent(n)}setProps(e){for(const[t,s]of Object.entries(e))this.klass[t]=s;this.klass.onPropsChanged&&this.klass.onPropsChanged(),this.update()}getInstance(){return this.klass}disconnectedCallback(){if(this.componentStyleTag&&this.componentStyleTag.remove(),this.klass.unmount&&this.klass.unmount(),this.eventSubscriptions?.length)for(const e of this.eventSubscriptions)e()}})},m={deps:[]},g=e=>t=>{if(e.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");window.customElements.get(e.selector)||(Object.defineProperty(t.prototype,"selector",{get:()=>e.selector}),p(e,t))},f=(e={})=>t=>{e={...m,...e};const s=o(t,e.deps);n.register(t,s)};var b=s(655);let S=class{transition="";constructor(){this.whichTransitionEnd()}whichTransitionEnd(){const e=document.createElement("div").style,t={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(const s in t)if(void 0!==e[s]){this.transition=t[s];break}}onTransitionEnd(e,t,s){let n=!1,o=null;const r=()=>{n||(n=!0,t&&t(),o(),o=null)};o=d(e,this.transition,(()=>{r()})),setTimeout(r,s)}animationsComplete(e){return Promise.allSettled(e.getAnimations().map((e=>e.finished)))}};S=(0,b.gn)([f(),(0,b.w6)("design:paramtypes",[])],S);const y=e=>{const t={...e},[s,n]=(e=>{const t=e;return[t,e=>{let s;s="function"==typeof e?e(t):e,Object.assign(t,s)}]})(e);return[s,e=>t=>{const o=(e=>{let t;switch(e.nodeName&&e.nodeName.toLowerCase()){case"input":case"textarea":t=["radio","checkbox"].includes(e.type)?!!e.checked&&(null===e.value||"on"===e.value||e.value):e.value;break;case"select":{const s="select-one"===e.type,n=[...Array.from(e.options)].filter((e=>e.selected)).map((e=>e.value??(e.textContent.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")));t=s?n[0]:n;break}default:t=e.value}return t})(t.target);n((()=>(s[e]=o,s)))},()=>{Object.assign(s,t)}]}}}]);
//# sourceMappingURL=../sourcemaps/366.js.map