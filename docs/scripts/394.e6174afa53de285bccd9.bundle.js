"use strict";(self.webpackChunkplumejs_example_repo=self.webpackChunkplumejs_example_repo||[]).push([[394],{394:(e,t,s)=>{s.d(t,{wA:()=>k,B_:()=>C,GS:()=>E,Th:()=>Renderer,D7:()=>L,dy:()=>g,sY:()=>b,uA:()=>N,lN:()=>h});var n=s(905);const o=new class{map=new Map;register(e,t){if(this.map.get(e))throw Error(`${e} is already registered service.`);this.map.set(e,t)}getService(e){const t=this.map.get(e);if(t)return t;throw Error(`${e} is not a registered provider.`)}clear(){this.map=new Map}},a=(e,t,s)=>{const n=[];for(let e=0;e<t.length;e++)"Renderer"!==t[e]?n.push(o.getService(t[e])):n.push(s);return n.length>0?new e(...n):new e};var r=s(818),i=s(720),l=s(658);const c=new class{globalStyles;style_registry;isRootNodeSet;globalStyleTag;constructor(){try{this.globalStyles=new CSSStyleSheet}catch(e){this.globalStyles=""}this.isRootNodeSet=!1,this.globalStyleTag=null}getComputedCss=(e="")=>{let t=[];const s=new CSSStyleSheet;if(s.insertRule(":host { display: block; }"),t=[this.globalStyles,s],e){const s=new CSSStyleSheet;s.replace(e),t.push(s)}return t}};var d=s(954),u=s(513);Symbol("klass");const h=e=>{return(t=e)&&"function"==typeof t.subscribe?e:(e=>!!e&&"function"==typeof e.then)(e)?(0,d.D)(Promise.resolve(e)):(0,u.of)(e);var t},p=(()=>{try{return new CSSStyleSheet,!1}catch(e){return!0}})(),m=(e,t,s,n=!1)=>{e.addEventListener(t,s,n);return()=>{e.removeEventListener(t,s,n)}},{html:g,render:b}=(()=>{const e=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,t=/<[a-z][^>]+$/i,s=/^attr([^ ]+)/,n=/^insertNode([^ ]+)/,o=e=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};let s=JSON.stringify(e);const n=e=>t[e]||e;return s=(e=>e.replace(/[&<>\(\)]/g,n))(s),JSON.parse(s)};return{html:(a,...r)=>{let i="";const{length:l}=a;for(let s=1;s<l;s++){const n=r[s-1];let o=!1;i+=a[s-1],e.test(i)&&t.test(i)&&(i=i.replace(e,((e,t,n)=>`attr${s-1}=${n||'"'}${t}${n?"":'"'}`)),o=!0),o||(Array.isArray(n)||n instanceof DocumentFragment?i+=`\x3c!--insertNode${s-1}--\x3e`:i+=n)}i+=a[l-1];const c=(e=>{const t=document.createElement("template");return t.innerHTML=e,t.content})(i.trim());return((e,t)=>{const n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let a=n.nextNode();for(;a;){if(a.eventSubscriptions=[],a.hasAttributes()){const e=Array.from(a.attributes).filter((e=>s.test(e.nodeName)));for(const{nodeName:n,nodeValue:r}of e){const e=s.exec(n)[1];switch(!0){case/^on+/.test(r):{const s=r.slice(2).toLowerCase(),n=m(a,s,t[e]);a.eventSubscriptions.push(n);break}case/ref/.test(r):t[e](a);break;case/^data-+/.test(r):a.setAttribute(`data-${r}`,o(t[e]));break;case/^aria-+/.test(r):a.setAttribute(`aria-${r}`,o(t[e]));break;case/class/.test(r):t[e]?a.classList.add(...t[e].split(" ")):a.setAttribute("class","");break;case/value/.test(r):a.value=o(t[e]);break;case/disabled/.test(r):case/checked/.test(r):t[e]?a.setAttribute(r,t[e]):a.removeAttribute(r);break;default:a.setAttribute(r,o(t[e]))}a.removeAttribute(n)}}a=n.nextNode()}})(c,r),((e,t)=>{const s=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,null);let o,a=s.nextNode();for(;a;){if(o=n.exec(a.data)){const n=Array.isArray(t[o[1]])?t[o[1]]:[t[o[1]]];a.replaceWith(...n),s.currentNode=e}a=s.nextNode()}})(c,r),c},render:(e,t)=>{e.textContent="",e.appendChild(t)}}})();class Renderer{shadowRoot;update;emitEvent}const S="data-compid",f={selector:"",root:!1,styles:""},y=(e,t=null)=>{const s=document.createElement("style");return s.innerHTML=e,t&&t.appendChild(s),s},w=(e,t,s)=>{if((e={...f,...e}).styles=e.styles.toString(),!r.UG)if(e.root&&!c.isRootNodeSet)c.isRootNodeSet=!0,e.styles&&(y(e.styles,document.head),c.globalStyles.replace(e.styles));else if(e.root&&c.isRootNodeSet)throw Error("Cannot register duplicate root component in "+e.selector+" component");window.customElements.define(e.selector,class extends HTMLElement{klass;shadow;subscriptions=new i.w0;componentStyleTag=null;eventSubscriptions;constructor(){if(super(),this.shadow=this.attachShadow({mode:"open"}),!p){const t=r.UG?[]:c.getComputedCss(e.styles);this.shadow.adoptedStyleSheets=t}this.update=this.update.bind(this),this.emitEvent=this.emitEvent.bind(this),this.setProps=this.setProps.bind(this),this.getInstance=this.getInstance.bind(this)}emulateComponent(){if(p&&e.styles){const n=(new Date).getTime()+Math.floor(1e3*Math.random()+1),o=(t=e.styles,s=`[data-compid="${n.toString()}"]`,t&&(t=s+" "+t.toString().replace("}",` } ${s} `)),t);this.componentStyleTag=y(o),this.setAttribute(S,n.toString())}var t,s}connectedCallback(){this.emulateComponent();const e=new Renderer;e.update=this.update,e.shadowRoot=this.shadow,e.emitEvent=this.emitEvent,this.klass=a(t,s,e),this.klass.beforeMount&&this.klass.beforeMount(),this.update(),this.klass.mount&&this.klass.mount(),this.subscriptions.add((0,l.R)(window,"onLanguageChange").subscribe((()=>{this.update()})))}update(){b(this.shadow,this.klass.render.bind(this.klass)()),p&&(e.styles&&this.shadow.insertBefore(this.componentStyleTag,this.shadow.childNodes[0]),c.globalStyleTag&&this.shadow.insertBefore(document.importNode(c.globalStyleTag,!0),this.shadow.childNodes[0]))}emitEvent(e,t,s=!0){const n=new CustomEvent(e,{detail:t,bubbles:s});this.dispatchEvent(n)}setProps(e){for(const[t,s]of Object.entries(e))this.klass[t]=s;this.klass.onPropsChanged&&this.klass.onPropsChanged(),this.update()}getInstance(){return this.klass}disconnectedCallback(){if(this.subscriptions.unsubscribe(),this.componentStyleTag&&this.componentStyleTag.remove(),this.klass.unmount&&this.klass.unmount(),this.eventSubscriptions?.length)for(const e of this.eventSubscriptions)e()}})},v=e=>(n.Hb.getMetadata("design:paramtypes",e)||[]).map((e=>e.name)),k=e=>t=>{if(e.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");if(!window.customElements.get(e.selector)){const s=v(t);t.prototype.selector=e.selector,w(e,t,s)}},E=()=>e=>{const t=v(e),s=a(e,t);o.register(e.name,s)};var T=s(655);let C=class DomTransition{transition="";constructor(){this.whichTransitionEnd()}whichTransitionEnd(){const e=document.createElement("div").style,t={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(const s in t)if(void 0!==e[s]){this.transition=t[s];break}}onTransitionEnd(e,t,s){let n=!1,o=null;const a=()=>{n||(n=!0,t&&t(),o.unsubscribe(),o=null)};o=(0,l.R)(e,this.transition).subscribe((()=>{a()})),setTimeout(a,s)}};C=(0,T.gn)([E(),(0,T.w6)("design:paramtypes",[])],C);const N=e=>{const t={...e},[s,n]=(e=>{const t=e;return[t,e=>{let s;s="function"==typeof e?e(t):e,Object.assign(t,s)}]})(e);return[s,e=>t=>{const o=(e=>{let t;switch(e.nodeName&&e.nodeName.toLowerCase()){case"input":case"textarea":t=["radio","checkbox"].includes(e.type)?!!e.checked&&(null===e.value||"on"===e.value||e.value):e.value;break;case"select":t="select-one"===e.type?e.value:[...Array.from(e.options)].filter((e=>e.selected)).map((e=>e.value));break;default:t=e.value}return t})(t.target);n((()=>(s[e]=o,s)))},()=>{Object.assign(s,t)}]};var A=s(949);let L=class TranslationService{_defaultLanguage="";setTranslate(e,t){(0,A.setTranslate)(e,t)}setDefaultLanguage(e){this._defaultLanguage=e,(0,A.setDefaultLanguage)(e);const t=new CustomEvent("onLanguageChange");window.dispatchEvent(t)}getCurrentLanguage(){return this._defaultLanguage}};L=(0,T.gn)([E()],L)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0cy8zOTQuZTYxNzRhZmE1M2RlMjg1YmNjZDkuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJ3T0FBQSxNQUFNLEVBQVcsSUFBSSxNQUNqQkEsSUFBTSxJQUFJQyxJQUNWQyxTQUFTQyxFQUFhQyxHQUNsQixHQUFLQyxLQUFLTCxJQUFJTSxJQUFJSCxHQUlkLE1BQU1JLE1BQU0sR0FBR0osb0NBSGZFLEtBQUtMLElBQUlRLElBQUlMLEVBQWFDLEdBTWxDSyxXQUFXTixHQUNQLE1BQU1DLEVBQVdDLEtBQUtMLElBQUlNLElBQUlILEdBQzlCLEdBQUlDLEVBQ0EsT0FBT0EsRUFHUCxNQUFNRyxNQUFNLEdBQUdKLG1DQUd2Qk8sUUFDSUwsS0FBS0wsSUFBTSxJQUFJQyxNQ25CakJVLEVBQWMsQ0FBQ0MsRUFBT0MsRUFBY0MsS0FDdEMsTUFBTUMsRUFBVyxHQUNqQixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUgsRUFBYUksT0FBUUQsSUFDYixhQUFwQkgsRUFBYUcsR0FDYkQsRUFBU0csS0FBSyxhQUFvQkwsRUFBYUcsS0FHL0NELEVBQVNHLEtBQUtKLEdBR3RCLE9BQUlDLEVBQVNFLE9BQVMsRUFDWCxJQUFJTCxLQUFTRyxHQUdiLElBQUlILEcsK0JDZm5CLE1BQU1PLEVBQW9CLElBQUksTUFDMUJDLGFBQ0FDLGVBQ0FDLGNBQ0FDLGVBQ0FDLGNBQ0ksSUFDSW5CLEtBQUtlLGFBQWUsSUFBSUssY0FFNUIsTUFBT0MsR0FDSHJCLEtBQUtlLGFBQWUsR0FFeEJmLEtBQUtpQixlQUFnQixFQUNyQmpCLEtBQUtrQixlQUFpQixLQUUxQkksZUFBaUIsQ0FBQ0MsRUFBUyxNQUN2QixJQUFJQyxFQUFXLEdBQ2YsTUFBTUMsRUFBZ0IsSUFBSUwsY0FHMUIsR0FGQUssRUFBY0MsV0FBVyw2QkFDekJGLEVBQVcsQ0FBQ3hCLEtBQUtlLGFBQWNVLEdBQzNCRixFQUFRLENBQ1IsTUFBTUksRUFBUSxJQUFJUCxjQUNsQk8sRUFBTUMsUUFBUUwsR0FDZEMsRUFBU1gsS0FBS2Ms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QUNyQixJQUFJMEssRUFDSixPQUFRMUssRUFBT3VELFVBQVl2RCxFQUFPdUQsU0FBU0ksZUFDdkMsSUFBSyxRQUNMLElBQUssV0FHRytHLEVBRm9CLENBQUMsUUFBUyxZQUNkQyxTQUFTM0ssRUFBTzRLLFFBQ2xCNUssRUFBTzZLLFVBQ0UsT0FBakI3SyxFQUFPVixPQUFtQyxPQUFqQlUsRUFBT1YsT0FDNUJVLEVBQU9WLE9BS0hVLEVBQU9WLE1BRXpCLE1BRUosSUFBSyxTQUdHb0wsRUFGd0IsZUFBaEIxSyxFQUFPNEssS0FFRDVLLEVBQU9WLE1BSVAsSUFERXlDLE1BQU1wQyxLQUFLSyxFQUFPRyxVQUNQa0QsUUFBUXlILEdBQVdBLEVBQU9DLFdBQVU3TixLQUFLNE4sR0FBV0EsRUFBT3hMLFFBRTFGLE1BRUosUUFDSW9MLEVBQWMxSyxFQUFPVixNQUk3QixPQUFPb0wsR0FPV00sQ0FEQ3BNLEVBQUVvQixRQUVqQm9LLEdBQWMsS0FDVkQsRUFBV3BDLEdBQU96SSxFQUNYNkssTUFHUyxLQUNwQm5DLE9BQU93QyxPQUFPTCxFQUFZRCxNLGFDOUNsQyxJQUFJZSxFQUFxQixNQUFNQSxtQkFDM0JDLGlCQUFtQixHQUNuQkMsYUFBYUMsRUFBTUMsSUFDZixJQUFBRixjQUFhQyxFQUFNQyxHQUV2QkMsbUJBQW1CQyxHQUNmaE8sS0FBSzJOLGlCQUFtQkssR0FDeEIsSUFBQUQsb0JBQW1CQyxHQUNuQixNQUFNOUQsRUFBUSxJQUFJQyxZQUFZLG9CQUM5QmhDLE9BQU9tQyxjQUFjSixHQUV6QitELHFCQUNJLE9BQU9qTyxLQUFLMk4sbUJBR3BCRCxHQUFxQixRQUFXLENBQzVCcEMsS0FDRG9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwbHVtZWpzL2NvcmUvZGlzdC9tanMvc3JjL2xpYi9zZXJ2aWNlX3Jlc29sdmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGx1bWVqcy9jb3JlL2Rpc3QvbWpzL3NyYy9saWIvaW5zdGFuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwbHVtZWpzL2NvcmUvZGlzdC9tanMvc3JjL2xpYi9jb21wb25lbnRSZWdpc3RyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBsdW1lanMvY29yZS9kaXN0L21qcy9zcmMvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGx1bWVqcy9jb3JlL2Rpc3QvbWpzL3NyYy9saWIvaHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBsdW1lanMvY29yZS9kaXN0L21qcy9zcmMvbGliL3R5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGx1bWVqcy9jb3JlL2Rpc3QvbWpzL3NyYy9saWIvcmVnaXN0ZXJFbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGx1bWVqcy9jb3JlL2Rpc3QvbWpzL3NyYy9saWIvZGVjb3JhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBsdW1lanMvY29yZS9kaXN0L21qcy9zcmMvbGliL2RvbVRyYW5zaXRpb24uc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBsdW1lanMvY29yZS9kaXN0L21qcy9zcmMvbGliL2hvb2tzL3VzZVN0YXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGx1bWVqcy9jb3JlL2Rpc3QvbWpzL3NyYy9saWIvaG9va3MvdXNlRm9ybUZpZWxkcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBsdW1lanMvY29yZS9kaXN0L21qcy9zcmMvbGliL3RyYW5zbGF0aW9uU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBJbmplY3RvciA9IG5ldyAoY2xhc3Mge1xuICAgIG1hcCA9IG5ldyBNYXAoKTtcbiAgICByZWdpc3RlcihzZXJ2aWNlTmFtZSwgaW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hcC5nZXQoc2VydmljZU5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQoc2VydmljZU5hbWUsIGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGAke3NlcnZpY2VOYW1lfSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgc2VydmljZS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTZXJ2aWNlKHNlcnZpY2VOYW1lKSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5tYXAuZ2V0KHNlcnZpY2VOYW1lKTtcbiAgICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgJHtzZXJ2aWNlTmFtZX0gaXMgbm90IGEgcmVnaXN0ZXJlZCBwcm92aWRlci5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxufSkoKTtcbmV4cG9ydCB7IEluamVjdG9yIH07XG4iLCJpbXBvcnQgeyBJbmplY3RvciB9IGZyb20gJy4vc2VydmljZV9yZXNvbHZlcic7XG5jb25zdCBpbnN0YW50aWF0ZSA9IChrbGFzcywgZGVwZW5kZW5jaWVzLCByZW5kZXJlckluc3RhbmNlKSA9PiB7XG4gICAgY29uc3Qgc2VydmljZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZGVwZW5kZW5jaWVzW2ldICE9PSAnUmVuZGVyZXInKSB7XG4gICAgICAgICAgICBzZXJ2aWNlcy5wdXNoKEluamVjdG9yLmdldFNlcnZpY2UoZGVwZW5kZW5jaWVzW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXJ2aWNlcy5wdXNoKHJlbmRlcmVySW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzZXJ2aWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBuZXcga2xhc3MoLi4uc2VydmljZXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBrbGFzcygpO1xuICAgIH1cbn07XG5leHBvcnQgeyBpbnN0YW50aWF0ZSB9O1xuIiwiY29uc3QgY29tcG9uZW50UmVnaXN0cnkgPSBuZXcgKGNsYXNzIHtcbiAgICBnbG9iYWxTdHlsZXM7XG4gICAgc3R5bGVfcmVnaXN0cnk7XG4gICAgaXNSb290Tm9kZVNldDtcbiAgICBnbG9iYWxTdHlsZVRhZztcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsU3R5bGVzID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxTdHlsZXMgPSAnJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzUm9vdE5vZGVTZXQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5nbG9iYWxTdHlsZVRhZyA9IG51bGw7XG4gICAgfVxuICAgIGdldENvbXB1dGVkQ3NzID0gKHN0eWxlcyA9ICcnKSA9PiB7XG4gICAgICAgIGxldCBjc29BcnJheSA9IFtdO1xuICAgICAgICBjb25zdCBkZWZhdWx0U3R5bGVzID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgZGVmYXVsdFN0eWxlcy5pbnNlcnRSdWxlKGA6aG9zdCB7IGRpc3BsYXk6IGJsb2NrOyB9YCk7XG4gICAgICAgIGNzb0FycmF5ID0gW3RoaXMuZ2xvYmFsU3R5bGVzLCBkZWZhdWx0U3R5bGVzXTtcbiAgICAgICAgaWYgKHN0eWxlcykge1xuICAgICAgICAgICAgY29uc3Qgc2hlZXQgPSBuZXcgQ1NTU3R5bGVTaGVldCgpO1xuICAgICAgICAgICAgc2hlZXQucmVwbGFjZShzdHlsZXMpO1xuICAgICAgICAgICAgY3NvQXJyYXkucHVzaChzaGVldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNzb0FycmF5O1xuICAgIH07XG59KSgpO1xuZXhwb3J0IHsgY29tcG9uZW50UmVnaXN0cnkgfTtcbiIsImltcG9ydCB7IGZyb20sIG9mIH0gZnJvbSAncnhqcyc7XG5jb25zdCBrbGFzcyA9IFN5bWJvbCgna2xhc3MnKTtcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbHVlKSA9PiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnO1xuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuY29uc3QgaXNVbmRlZmluZWQgPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PSAndW5kZWZpbmVkJztcbmNvbnN0IGlzT2JzZXJ2YWJsZSA9IChvYmopID0+ICEhb2JqICYmIHR5cGVvZiBvYmouc3Vic2NyaWJlID09PSAnZnVuY3Rpb24nO1xuY29uc3QgaXNQcm9taXNlID0gKG9iaikgPT4gISFvYmogJiYgdHlwZW9mIG9iai50aGVuID09PSAnZnVuY3Rpb24nO1xuY29uc3Qgd3JhcEludG9PYnNlcnZhYmxlID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKGlzT2JzZXJ2YWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1Byb21pc2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmcm9tKFByb21pc2UucmVzb2x2ZSh2YWx1ZSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9mKHZhbHVlKTtcbiAgICB9XG59O1xuY29uc3QgQ1NTX1NIRUVUX05PVF9TVVBQT1JURUQgPSAoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIG5ldyBDU1NTdHlsZVNoZWV0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufSkoKTtcbmNvbnN0IGZyb21FdmVudCA9ICh0YXJnZXQsIGV2ZW50TmFtZSwgb25OZXh0LCBvcHRpb25zID0gZmFsc2UpID0+IHtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG9uTmV4dCwgb3B0aW9ucyk7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgb25OZXh0LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIHJldHVybiB1bnN1YnNjcmliZTtcbn07XG5leHBvcnQgeyBpc09iamVjdCwgaXNGdW5jdGlvbiwgaXNVbmRlZmluZWQsIGlzT2JzZXJ2YWJsZSwgaXNQcm9taXNlLCB3cmFwSW50b09ic2VydmFibGUsIGtsYXNzLCBDU1NfU0hFRVRfTk9UX1NVUFBPUlRFRCwgZnJvbUV2ZW50IH07XG4iLCJpbXBvcnQgeyBmcm9tRXZlbnQgfSBmcm9tICcuL3V0aWxzJztcbmNvbnN0IHsgaHRtbCwgcmVuZGVyIH0gPSAoKCkgPT4ge1xuICAgIGNvbnN0IGlzQXR0cmlidXRlUmVnZXggPSAvKFteXFxzXFxcXD5cIic9XSspXFxzKj1cXHMqKFsnXCJdPykkLztcbiAgICBjb25zdCBpc05vZGVSZWdleCA9IC88W2Etel1bXj5dKyQvaTtcbiAgICBjb25zdCBhdHRyaWJ1dGVQcmVmaXggPSAnYXR0cic7XG4gICAgY29uc3QgYXR0cmlidXRlUmVnZXggPSAvXmF0dHIoW14gXSspLztcbiAgICBjb25zdCBpbnNlcnROb2RlUHJlZml4ID0gJ2luc2VydE5vZGUnO1xuICAgIGNvbnN0IGluc2VydE5vZGVSZWdleCA9IC9eaW5zZXJ0Tm9kZShbXiBdKykvO1xuICAgIGNvbnN0IF9zYW5pdGl6ZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhZ3NUb1JlcGxhY2UgPSB7XG4gICAgICAgICAgICAnJic6ICcmYW1wOycsXG4gICAgICAgICAgICAnPCc6ICcmbHQ7JyxcbiAgICAgICAgICAgICc+JzogJyZndDsnLFxuICAgICAgICAgICAgJygnOiAnJTI4JyxcbiAgICAgICAgICAgICcpJzogJyUyOSdcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHN0ciA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICBjb25zdCByZXBsYWNlVGFnID0gKHRhZykgPT4gdGFnc1RvUmVwbGFjZVt0YWddIHx8IHRhZztcbiAgICAgICAgY29uc3Qgc2FmZV90YWdzX3JlcGxhY2UgPSAoc3RyKSA9PiBzdHIucmVwbGFjZSgvWyY8PlxcKFxcKV0vZywgcmVwbGFjZVRhZyk7XG4gICAgICAgIHN0ciA9IHNhZmVfdGFnc19yZXBsYWNlKHN0cik7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XG4gICAgfTtcbiAgICBjb25zdCBfY3JlYXRlRnJhZ21lbnQgPSAobWFya3VwKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICB0ZW1wLmlubmVySFRNTCA9IG1hcmt1cDtcbiAgICAgICAgcmV0dXJuIHRlbXAuY29udGVudDtcbiAgICB9O1xuICAgIGNvbnN0IF9iaW5kRnJhZ21lbnRzID0gKGZyYWdtZW50LCB2YWx1ZXMpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudHNXYWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGZyYWdtZW50LCBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCwgbnVsbCk7XG4gICAgICAgIGxldCBub2RlID0gZWxlbWVudHNXYWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuZXZlbnRTdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21BdHRyaWJ1dGVzID0gQXJyYXkuZnJvbShub2RlLmF0dHJpYnV0ZXMpLmZpbHRlcigoYXR0cikgPT4gYXR0cmlidXRlUmVnZXgudGVzdChhdHRyLm5vZGVOYW1lKSk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB7IG5vZGVOYW1lLCBub2RlVmFsdWUgfSBvZiBjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBhdHRyaWJ1dGVSZWdleC5leGVjKG5vZGVOYW1lKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC9eb24rLy50ZXN0KG5vZGVWYWx1ZSk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudE5hbWUgPSBub2RlVmFsdWUuc2xpY2UoMikudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IGZyb21FdmVudChub2RlLCBldmVudE5hbWUsIHZhbHVlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5ldmVudFN1YnNjcmlwdGlvbnMucHVzaCh1bnN1YnNjcmliZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC9yZWYvLnRlc3Qobm9kZVZhbHVlKToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpXShub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgL15kYXRhLSsvLnRlc3Qobm9kZVZhbHVlKToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGBkYXRhLSR7bm9kZVZhbHVlfWAsIF9zYW5pdGl6ZSh2YWx1ZXNbaV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgL15hcmlhLSsvLnRlc3Qobm9kZVZhbHVlKToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGBhcmlhLSR7bm9kZVZhbHVlfWAsIF9zYW5pdGl6ZSh2YWx1ZXNbaV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgL2NsYXNzLy50ZXN0KG5vZGVWYWx1ZSk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCguLi52YWx1ZXNbaV0uc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAvdmFsdWUvLnRlc3Qobm9kZVZhbHVlKToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudmFsdWUgPSBfc2FuaXRpemUodmFsdWVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgL2Rpc2FibGVkLy50ZXN0KG5vZGVWYWx1ZSk6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC9jaGVja2VkLy50ZXN0KG5vZGVWYWx1ZSk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5vZGVWYWx1ZSwgdmFsdWVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5vZGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5vZGVWYWx1ZSwgX3Nhbml0aXplKHZhbHVlc1tpXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5vZGVOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gZWxlbWVudHNXYWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgX3JlcGxhY2VJbnNlcnROb2RlQ29tbWVudHMgPSAoZnJhZ21lbnQsIHZhbHVlcykgPT4ge1xuICAgICAgICBjb25zdCBjb21tZW50c1dhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZnJhZ21lbnQsIE5vZGVGaWx0ZXIuU0hPV19DT01NRU5ULCBudWxsKTtcbiAgICAgICAgbGV0IG5vZGUgPSBjb21tZW50c1dhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICBsZXQgbWF0Y2g7XG4gICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICBpZiAoKG1hdGNoID0gaW5zZXJ0Tm9kZVJlZ2V4LmV4ZWMobm9kZS5kYXRhKSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2Rlc0xpc3QgPSBBcnJheS5pc0FycmF5KHZhbHVlc1ttYXRjaFsxXV0pID8gdmFsdWVzW21hdGNoWzFdXSA6IFt2YWx1ZXNbbWF0Y2hbMV1dXTtcbiAgICAgICAgICAgICAgICBub2RlLnJlcGxhY2VXaXRoKC4uLm5vZGVzTGlzdCk7XG4gICAgICAgICAgICAgICAgY29tbWVudHNXYWxrZXIuY3VycmVudE5vZGUgPSBmcmFnbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBjb21tZW50c1dhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBodG1sID0gKHRlbXBsYXRlcywgLi4udmFsdWVzKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSAnJztcbiAgICAgICAgY29uc3QgeyBsZW5ndGggfSA9IHRlbXBsYXRlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFyaWFibGUgPSB2YWx1ZXNbaSAtIDFdO1xuICAgICAgICAgICAgbGV0IGlzQXR0cmlidXRlUGFydCA9IGZhbHNlO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRlbXBsYXRlc1tpIC0gMV07XG4gICAgICAgICAgICBpZiAoaXNBdHRyaWJ1dGVSZWdleC50ZXN0KHJlc3VsdCkgJiYgaXNOb2RlUmVnZXgudGVzdChyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoaXNBdHRyaWJ1dGVSZWdleCwgKF8sICQxLCAkMikgPT4gYCR7YXR0cmlidXRlUHJlZml4fSR7aSAtIDF9PSR7JDIgfHwgJ1wiJ30keyQxfSR7JDIgPyAnJyA6ICdcIid9YCk7XG4gICAgICAgICAgICAgICAgaXNBdHRyaWJ1dGVQYXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNBdHRyaWJ1dGVQYXJ0KSB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFyaWFibGUpIHx8IHZhcmlhYmxlIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gYDwhLS0ke2luc2VydE5vZGVQcmVmaXh9JHtpIC0gMX0tLT5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHZhcmlhYmxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gdGVtcGxhdGVzW2xlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IF9jcmVhdGVGcmFnbWVudChyZXN1bHQudHJpbSgpKTtcbiAgICAgICAgX2JpbmRGcmFnbWVudHMoZnJhZ21lbnQsIHZhbHVlcyk7XG4gICAgICAgIF9yZXBsYWNlSW5zZXJ0Tm9kZUNvbW1lbnRzKGZyYWdtZW50LCB2YWx1ZXMpO1xuICAgICAgICByZXR1cm4gZnJhZ21lbnQ7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXIgPSAod2hlcmUsIHdoYXQpID0+IHtcbiAgICAgICAgd2hlcmUudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgd2hlcmUuYXBwZW5kQ2hpbGQod2hhdCk7XG4gICAgfTtcbiAgICByZXR1cm4geyBodG1sLCByZW5kZXIgfTtcbn0pKCk7XG5leHBvcnQgeyBodG1sLCByZW5kZXIgfTtcbiIsImNsYXNzIFJlbmRlcmVyIHtcbiAgICBzaGFkb3dSb290O1xuICAgIHVwZGF0ZTtcbiAgICBlbWl0RXZlbnQ7XG59XG5leHBvcnQgeyBSZW5kZXJlciB9O1xuIiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnYnJvd3Nlci1vci1ub2RlJztcbmltcG9ydCB7IGZyb21FdmVudCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBjb21wb25lbnRSZWdpc3RyeSB9IGZyb20gJy4vY29tcG9uZW50UmVnaXN0cnknO1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAnLi9odG1sJztcbmltcG9ydCB7IGluc3RhbnRpYXRlIH0gZnJvbSAnLi9pbnN0YW5jZSc7XG5pbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgQ1NTX1NIRUVUX05PVF9TVVBQT1JURUQgfSBmcm9tICcuL3V0aWxzJztcbmNvbnN0IENPTVBPTkVOVF9EQVRBX0FUVFIgPSAnZGF0YS1jb21waWQnO1xuY29uc3QgREVGQVVMVF9DT01QT05FTlRfT1BUSU9OUyA9IHtcbiAgICBzZWxlY3RvcjogJycsXG4gICAgcm9vdDogZmFsc2UsXG4gICAgc3R5bGVzOiAnJ1xufTtcbmNvbnN0IGNyZWF0ZVN0eWxlVGFnID0gKGNvbnRlbnQsIHdoZXJlID0gbnVsbCkgPT4ge1xuICAgIGNvbnN0IHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgdGFnLmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgd2hlcmUgJiYgd2hlcmUuYXBwZW5kQ2hpbGQodGFnKTtcbiAgICByZXR1cm4gdGFnO1xufTtcbmNvbnN0IHRyYW5zZm9ybUNTUyA9IChzdHlsZXMsIHNlbGVjdG9yKSA9PiB7XG4gICAgaWYgKHN0eWxlcykge1xuICAgICAgICBzdHlsZXMgPSBzZWxlY3RvciArICcgJyArIHN0eWxlcy50b1N0cmluZygpLnJlcGxhY2UoJ30nLCBgIH0gJHtzZWxlY3Rvcn0gYCk7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZXM7XG59O1xuY29uc3QgcmVnaXN0ZXJFbGVtZW50ID0gKG9wdGlvbnMsIHRhcmdldCwgZGVwZW5kZW5jaWVzKSA9PiB7XG4gICAgb3B0aW9ucyA9IHsgLi4uREVGQVVMVF9DT01QT05FTlRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgIG9wdGlvbnMuc3R5bGVzID0gb3B0aW9ucy5zdHlsZXMudG9TdHJpbmcoKTtcbiAgICBpZiAoIWlzTm9kZSkge1xuICAgICAgICBpZiAob3B0aW9ucy5yb290ICYmICFjb21wb25lbnRSZWdpc3RyeS5pc1Jvb3ROb2RlU2V0KSB7XG4gICAgICAgICAgICBjb21wb25lbnRSZWdpc3RyeS5pc1Jvb3ROb2RlU2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0eWxlcykge1xuICAgICAgICAgICAgICAgIGNyZWF0ZVN0eWxlVGFnKG9wdGlvbnMuc3R5bGVzLCBkb2N1bWVudC5oZWFkKTtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRSZWdpc3RyeS5nbG9iYWxTdHlsZXMucmVwbGFjZShvcHRpb25zLnN0eWxlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5yb290ICYmIGNvbXBvbmVudFJlZ2lzdHJ5LmlzUm9vdE5vZGVTZXQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdDYW5ub3QgcmVnaXN0ZXIgZHVwbGljYXRlIHJvb3QgY29tcG9uZW50IGluICcgKyBvcHRpb25zLnNlbGVjdG9yICsgJyBjb21wb25lbnQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKG9wdGlvbnMuc2VsZWN0b3IsIGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgICAgICBrbGFzcztcbiAgICAgICAgc2hhZG93O1xuICAgICAgICBzdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBjb21wb25lbnRTdHlsZVRhZyA9IG51bGw7XG4gICAgICAgIGV2ZW50U3Vic2NyaXB0aW9ucztcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICAgICAgICAgIGlmICghQ1NTX1NIRUVUX05PVF9TVVBQT1JURUQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZG9wdGVkU3R5bGVTaGVldHMgPSBpc05vZGUgPyBbXSA6IGNvbXBvbmVudFJlZ2lzdHJ5LmdldENvbXB1dGVkQ3NzKG9wdGlvbnMuc3R5bGVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvdy5hZG9wdGVkU3R5bGVTaGVldHMgPSBhZG9wdGVkU3R5bGVTaGVldHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmVtaXRFdmVudCA9IHRoaXMuZW1pdEV2ZW50LmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnNldFByb3BzID0gdGhpcy5zZXRQcm9wcy5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5nZXRJbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UuYmluZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbXVsYXRlQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgaWYgKENTU19TSEVFVF9OT1RfU1VQUE9SVEVEICYmIG9wdGlvbnMuc3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAgKyAxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlZENTUyA9IHRyYW5zZm9ybUNTUyhvcHRpb25zLnN0eWxlcywgYFske0NPTVBPTkVOVF9EQVRBX0FUVFJ9PVwiJHtpZC50b1N0cmluZygpfVwiXWApO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50U3R5bGVUYWcgPSBjcmVhdGVTdHlsZVRhZyhjb21waWxlZENTUyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoQ09NUE9ORU5UX0RBVEFfQVRUUiwgaWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICB0aGlzLmVtdWxhdGVDb21wb25lbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVySW5zdGFuY2UgPSBuZXcgUmVuZGVyZXIoKTtcbiAgICAgICAgICAgIHJlbmRlcmVySW5zdGFuY2UudXBkYXRlID0gdGhpcy51cGRhdGU7XG4gICAgICAgICAgICByZW5kZXJlckluc3RhbmNlLnNoYWRvd1Jvb3QgPSB0aGlzLnNoYWRvdztcbiAgICAgICAgICAgIHJlbmRlcmVySW5zdGFuY2UuZW1pdEV2ZW50ID0gdGhpcy5lbWl0RXZlbnQ7XG4gICAgICAgICAgICB0aGlzLmtsYXNzID0gaW5zdGFudGlhdGUodGFyZ2V0LCBkZXBlbmRlbmNpZXMsIHJlbmRlcmVySW5zdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5rbGFzcy5iZWZvcmVNb3VudCAmJiB0aGlzLmtsYXNzLmJlZm9yZU1vdW50KCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5rbGFzcy5tb3VudCAmJiB0aGlzLmtsYXNzLm1vdW50KCk7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKGZyb21FdmVudCh3aW5kb3csICdvbkxhbmd1YWdlQ2hhbmdlJykuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgIHJlbmRlcih0aGlzLnNoYWRvdywgdGhpcy5rbGFzcy5yZW5kZXIuYmluZCh0aGlzLmtsYXNzKSgpKTtcbiAgICAgICAgICAgIGlmIChDU1NfU0hFRVRfTk9UX1NVUFBPUlRFRCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuc3R5bGVzICYmIHRoaXMuc2hhZG93Lmluc2VydEJlZm9yZSh0aGlzLmNvbXBvbmVudFN0eWxlVGFnLCB0aGlzLnNoYWRvdy5jaGlsZE5vZGVzWzBdKTtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRSZWdpc3RyeS5nbG9iYWxTdHlsZVRhZyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWRvdy5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuaW1wb3J0Tm9kZShjb21wb25lbnRSZWdpc3RyeS5nbG9iYWxTdHlsZVRhZywgdHJ1ZSksIHRoaXMuc2hhZG93LmNoaWxkTm9kZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVtaXRFdmVudChldmVudE5hbWUsIGRhdGEsIGlzQnViYmxpbmcgPSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtcbiAgICAgICAgICAgICAgICBkZXRhaWw6IGRhdGEsXG4gICAgICAgICAgICAgICAgYnViYmxlczogaXNCdWJibGluZ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHNldFByb3BzKHByb3BzT2JqKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwcm9wc09iaikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmtsYXNzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMua2xhc3Mub25Qcm9wc0NoYW5nZWQgJiYgdGhpcy5rbGFzcy5vblByb3BzQ2hhbmdlZCgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmtsYXNzO1xuICAgICAgICB9XG4gICAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudFN0eWxlVGFnICYmIHRoaXMuY29tcG9uZW50U3R5bGVUYWcucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLmtsYXNzLnVubW91bnQgJiYgdGhpcy5rbGFzcy51bm1vdW50KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5ldmVudFN1YnNjcmlwdGlvbnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdW5zdWJzY3JpYmUgb2YgdGhpcy5ldmVudFN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5leHBvcnQgeyByZWdpc3RlckVsZW1lbnQgfTtcbiIsImltcG9ydCB7IFJlZmxlY3Rpb24gYXMgUmVmbGVjdCB9IGZyb20gJ0BhYnJhaGFtL3JlZmxlY3Rpb24nO1xuaW1wb3J0IHsgaW5zdGFudGlhdGUgfSBmcm9tICcuL2luc3RhbmNlJztcbmltcG9ydCB7IHJlZ2lzdGVyRWxlbWVudCB9IGZyb20gJy4vcmVnaXN0ZXJFbGVtZW50JztcbmltcG9ydCB7IEluamVjdG9yIH0gZnJvbSAnLi9zZXJ2aWNlX3Jlc29sdmVyJztcbmNvbnN0IGdldERlcHMgPSAodGFyZ2V0KSA9PiB7XG4gICAgY29uc3QgdHlwZXMgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIHRhcmdldCkgfHwgW107XG4gICAgcmV0dXJuIHR5cGVzLm1hcCgoYSkgPT4gYS5uYW1lKTtcbn07XG5jb25zdCBDb21wb25lbnQgPSAob3B0aW9ucykgPT4gKHRhcmdldCkgPT4ge1xuICAgIGlmIChvcHRpb25zLnNlbGVjdG9yLmluZGV4T2YoJy0nKSA8PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgYXQgbGVhc3QgMSBkYXNoIGluIHRoZSBjdXN0b20gZWxlbWVudCBuYW1lIScpO1xuICAgIH1cbiAgICBpZiAoIXdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQob3B0aW9ucy5zZWxlY3RvcikpIHtcbiAgICAgICAgY29uc3QgZGVwcyA9IGdldERlcHModGFyZ2V0KTtcbiAgICAgICAgdGFyZ2V0LnByb3RvdHlwZS5zZWxlY3RvciA9IG9wdGlvbnMuc2VsZWN0b3I7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudChvcHRpb25zLCB0YXJnZXQsIGRlcHMpO1xuICAgIH1cbn07XG5jb25zdCBJbmplY3RhYmxlID0gKCkgPT4gKHRhcmdldCkgPT4ge1xuICAgIGNvbnN0IGRlcHMgPSBnZXREZXBzKHRhcmdldCk7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW50aWF0ZSh0YXJnZXQsIGRlcHMpO1xuICAgIEluamVjdG9yLnJlZ2lzdGVyKHRhcmdldC5uYW1lLCBpbnN0YW5jZSk7XG59O1xuY29uc3QgSW5qZWN0aW9uVG9rZW4gPSAobmFtZSwgdGFyZ2V0KSA9PiB7XG4gICAgSW5qZWN0b3IucmVnaXN0ZXIobmFtZSwgdGFyZ2V0KTtcbn07XG5leHBvcnQgeyBDb21wb25lbnQsIEluamVjdGFibGUsIEluamVjdGlvblRva2VuIH07XG4iLCJpbXBvcnQgeyBfX2RlY29yYXRlLCBfX21ldGFkYXRhIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBmcm9tRXZlbnQgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICcuL2RlY29yYXRvcnMnO1xubGV0IERvbVRyYW5zaXRpb24gPSBjbGFzcyBEb21UcmFuc2l0aW9uIHtcbiAgICB0cmFuc2l0aW9uID0gJyc7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMud2hpY2hUcmFuc2l0aW9uRW5kKCk7XG4gICAgfVxuICAgIHdoaWNoVHJhbnNpdGlvbkVuZCgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCBzdHlsZW9iaiA9IGVsZW1lbnQuc3R5bGU7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25zID0ge1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgV2Via2l0VHJhbnNpdGlvbjogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgICAgICAgTW96VHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgT1RyYW5zaXRpb246ICdvdHJhbnNpdGlvbmVuZCdcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCB0IGluIHRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0eWxlb2JqW3RdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25zW3RdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG9uVHJhbnNpdGlvbkVuZChlbGVtZW50LCBjYiwgZHVyYXRpb24pIHtcbiAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgZXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICBjb25zdCBfZm4gPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2IgJiYgY2IoKTtcbiAgICAgICAgICAgICAgICBldmVudFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGV2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZXZlbnRTdWJzY3JpcHRpb24gPSBmcm9tRXZlbnQoZWxlbWVudCwgdGhpcy50cmFuc2l0aW9uKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgX2ZuKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRUaW1lb3V0KF9mbiwgZHVyYXRpb24pO1xuICAgIH1cbn07XG5Eb21UcmFuc2l0aW9uID0gX19kZWNvcmF0ZShbXG4gICAgSW5qZWN0YWJsZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSlcbl0sIERvbVRyYW5zaXRpb24pO1xuZXhwb3J0IHsgRG9tVHJhbnNpdGlvbiB9O1xuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzJztcbmNvbnN0IHVzZVN0YXRlID0gKG9iaikgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IG9iajtcbiAgICBjb25zdCByZWR1Y2VyID0gKGZuKSA9PiB7XG4gICAgICAgIGxldCBuZXdTdGF0ZTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgICAgICBuZXdTdGF0ZSA9IGZuKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdTdGF0ZSA9IGZuO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24oaW5pdGlhbFN0YXRlLCBuZXdTdGF0ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gW2luaXRpYWxTdGF0ZSwgcmVkdWNlcl07XG59O1xuZXhwb3J0IHsgdXNlU3RhdGUgfTtcbiIsImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAnLi91c2VTdGF0ZSc7XG5jb25zdCBfZ2V0VGFyZ2V0VmFsdWUgPSAodGFyZ2V0KSA9PiB7XG4gICAgbGV0IHRhcmdldFZhbHVlO1xuICAgIHN3aXRjaCAodGFyZ2V0Lm5vZGVOYW1lICYmIHRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgY2FzZSAndGV4dGFyZWEnOiB7XG4gICAgICAgICAgICBjb25zdCBub25UZXh0RWxlbWVudHMgPSBbJ3JhZGlvJywgJ2NoZWNrYm94J107XG4gICAgICAgICAgICBpZiAobm9uVGV4dEVsZW1lbnRzLmluY2x1ZGVzKHRhcmdldC50eXBlKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFZhbHVlID0gdGFyZ2V0LmNoZWNrZWRcbiAgICAgICAgICAgICAgICAgICAgPyB0YXJnZXQudmFsdWUgIT09IG51bGwgJiYgdGFyZ2V0LnZhbHVlICE9PSAnb24nXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRWYWx1ZSA9IHRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3NlbGVjdCc6IHtcbiAgICAgICAgICAgIGNvbnN0IG9uZSA9IHRhcmdldC50eXBlID09PSAnc2VsZWN0LW9uZSc7XG4gICAgICAgICAgICBpZiAob25lKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSB0YXJnZXQudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gQXJyYXkuZnJvbSh0YXJnZXQub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSBbLi4ub3B0aW9uc10uZmlsdGVyKChvcHRpb24pID0+IG9wdGlvbi5zZWxlY3RlZCkubWFwKChvcHRpb24pID0+IG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICB0YXJnZXRWYWx1ZSA9IHRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRWYWx1ZTtcbn07XG5jb25zdCB1c2VGb3JtRmllbGRzID0gKGluaXRpYWxWYWx1ZXMpID0+IHtcbiAgICBjb25zdCBjbG9uZSA9IHsgLi4uaW5pdGlhbFZhbHVlcyB9O1xuICAgIGNvbnN0IFtmb3JtRmllbGRzLCBzZXRGb3JtRmllbGRzXSA9IHVzZVN0YXRlKGluaXRpYWxWYWx1ZXMpO1xuICAgIGNvbnN0IGNyZWF0ZUNoYW5nZUhhbmRsZXIgPSAoa2V5KSA9PiAoZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBfZ2V0VGFyZ2V0VmFsdWUodGFyZ2V0KTtcbiAgICAgICAgc2V0Rm9ybUZpZWxkcygoKSA9PiB7XG4gICAgICAgICAgICBmb3JtRmllbGRzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBmb3JtRmllbGRzO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0Rm9ybUZpZWxkcyA9ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihmb3JtRmllbGRzLCBjbG9uZSk7XG4gICAgfTtcbiAgICByZXR1cm4gW2Zvcm1GaWVsZHMsIGNyZWF0ZUNoYW5nZUhhbmRsZXIsIHJlc2V0Rm9ybUZpZWxkc107XG59O1xuZXhwb3J0IHsgdXNlRm9ybUZpZWxkcyB9O1xuIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgc2V0RGVmYXVsdExhbmd1YWdlLCBzZXRUcmFuc2xhdGUgfSBmcm9tICd2YW5pbGxhLWkxOG4nO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJy4vZGVjb3JhdG9ycyc7XG5sZXQgVHJhbnNsYXRpb25TZXJ2aWNlID0gY2xhc3MgVHJhbnNsYXRpb25TZXJ2aWNlIHtcbiAgICBfZGVmYXVsdExhbmd1YWdlID0gJyc7XG4gICAgc2V0VHJhbnNsYXRlKGkxOG4sIGxhbmcpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRlKGkxOG4sIGxhbmcpO1xuICAgIH1cbiAgICBzZXREZWZhdWx0TGFuZ3VhZ2UobGFuZ3VhZ2UpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdExhbmd1YWdlID0gbGFuZ3VhZ2U7XG4gICAgICAgIHNldERlZmF1bHRMYW5ndWFnZShsYW5ndWFnZSk7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdvbkxhbmd1YWdlQ2hhbmdlJyk7XG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgZ2V0Q3VycmVudExhbmd1YWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdExhbmd1YWdlO1xuICAgIH1cbn07XG5UcmFuc2xhdGlvblNlcnZpY2UgPSBfX2RlY29yYXRlKFtcbiAgICBJbmplY3RhYmxlKClcbl0sIFRyYW5zbGF0aW9uU2VydmljZSk7XG5leHBvcnQgeyBUcmFuc2xhdGlvblNlcnZpY2UgfTtcbiJdLCJuYW1lcyI6WyJtYXAiLCJNYXAiLCJyZWdpc3RlciIsInNlcnZpY2VOYW1lIiwiaW5zdGFuY2UiLCJ0aGlzIiwiZ2V0IiwiRXJyb3IiLCJzZXQiLCJnZXRTZXJ2aWNlIiwiY2xlYXIiLCJpbnN0YW50aWF0ZSIsImtsYXNzIiwiZGVwZW5kZW5jaWVzIiwicmVuZGVyZXJJbnN0YW5jZSIsInNlcnZpY2VzIiwiaSIsImxlbmd0aCIsInB1c2giLCJjb21wb25lbnRSZWdpc3RyeSIsImdsb2JhbFN0eWxlcyIsInN0eWxlX3JlZ2lzdHJ5IiwiaXNSb290Tm9kZVNldCIsImdsb2JhbFN0eWxlVGFnIiwiY29uc3RydWN0b3IiLCJDU1NTdHlsZVNoZWV0IiwiZSIsImdldENvbXB1dGVkQ3NzIiwic3R5bGVzIiwiY3NvQXJyYXkiLCJkZWZhdWx0U3R5bGVzIiwiaW5zZXJ0UnVsZSIsInNoZWV0IiwicmVwbGFjZSIsIlN5bWJvbCIsIndyYXBJbnRvT2JzZXJ2YWJsZSIsInZhbHVlIiwib2JqIiwic3Vic2NyaWJlIiwidGhlbiIsImlzUHJvbWlzZSIsImZyb20iLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9mIiwiQ1NTX1NIRUVUX05PVF9TVVBQT1JURUQiLCJ0YXJnZXQiLCJldmVudE5hbWUiLCJvbk5leHQiLCJvcHRpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJodG1sIiwicmVuZGVyIiwiaXNBdHRyaWJ1dGVSZWdleCIsImlzTm9kZVJlZ2V4IiwiYXR0cmlidXRlUmVnZXgiLCJpbnNlcnROb2RlUmVnZXgiLCJfc2FuaXRpemUiLCJkYXRhIiwidGFnc1RvUmVwbGFjZSIsInN0ciIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXBsYWNlVGFnIiwidGFnIiwic2FmZV90YWdzX3JlcGxhY2UiLCJwYXJzZSIsInRlbXBsYXRlcyIsInZhbHVlcyIsInJlc3VsdCIsInZhcmlhYmxlIiwiaXNBdHRyaWJ1dGVQYXJ0IiwidGVzdCIsIl8iLCIkMSIsIiQyIiwiQXJyYXkiLCJpc0FycmF5IiwiRG9jdW1lbnRGcmFnbWVudCIsImZyYWdtZW50IiwibWFya3VwIiwidGVtcCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImNvbnRlbnQiLCJfY3JlYXRlRnJhZ21lbnQiLCJ0cmltIiwiZWxlbWVudHNXYWxrZXIiLCJjcmVhdGVUcmVlV2Fsa2VyIiwiTm9kZUZpbHRlciIsIlNIT1dfRUxFTUVOVCIsIm5vZGUiLCJuZXh0Tm9kZSIsImV2ZW50U3Vic2NyaXB0aW9ucyIsImhhc0F0dHJpYnV0ZXMiLCJjdXN0b21BdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImZpbHRlciIsImF0dHIiLCJub2RlTmFtZSIsIm5vZGVWYWx1ZSIsImV4ZWMiLCJzbGljZSIsInRvTG93ZXJDYXNlIiwidW5zdWJzY3JpYmUiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJzcGxpdCIsInJlbW92ZUF0dHJpYnV0ZSIsIl9iaW5kRnJhZ21lbnRzIiwiY29tbWVudHNXYWxrZXIiLCJTSE9XX0NPTU1FTlQiLCJtYXRjaCIsIm5vZGVzTGlzdCIsInJlcGxhY2VXaXRoIiwiY3VycmVudE5vZGUiLCJfcmVwbGFjZUluc2VydE5vZGVDb21tZW50cyIsIndoZXJlIiwid2hhdCIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJSZW5kZXJlciIsInNoYWRvd1Jvb3QiLCJ1cGRhdGUiLCJlbWl0RXZlbnQiLCJDT01QT05FTlRfREFUQV9BVFRSIiwiREVGQVVMVF9DT01QT05FTlRfT1BUSU9OUyIsInNlbGVjdG9yIiwicm9vdCIsImNyZWF0ZVN0eWxlVGFnIiwicmVnaXN0ZXJFbGVtZW50IiwidG9TdHJpbmciLCJoZWFkIiwid2luZG93IiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCJIVE1MRWxlbWVudCIsInNoYWRvdyIsInN1YnNjcmlwdGlvbnMiLCJTdWJzY3JpcHRpb24iLCJjb21wb25lbnRTdHlsZVRhZyIsInN1cGVyIiwiYXR0YWNoU2hhZG93IiwibW9kZSIsImFkb3B0ZWRTdHlsZVNoZWV0cyIsImJpbmQiLCJzZXRQcm9wcyIsImdldEluc3RhbmNlIiwiZW11bGF0ZUNvbXBvbmVudCIsImlkIiwiRGF0ZSIsImdldFRpbWUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjb21waWxlZENTUyIsImNvbm5lY3RlZENhbGxiYWNrIiwiYmVmb3JlTW91bnQiLCJtb3VudCIsImZyb21FdmVudCIsImluc2VydEJlZm9yZSIsImNoaWxkTm9kZXMiLCJpbXBvcnROb2RlIiwiaXNCdWJibGluZyIsImV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJidWJibGVzIiwiZGlzcGF0Y2hFdmVudCIsInByb3BzT2JqIiwia2V5IiwiT2JqZWN0IiwiZW50cmllcyIsIm9uUHJvcHNDaGFuZ2VkIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJyZW1vdmUiLCJ1bm1vdW50IiwiZ2V0RGVwcyIsImEiLCJuYW1lIiwiQ29tcG9uZW50IiwiaW5kZXhPZiIsImRlcHMiLCJwcm90b3R5cGUiLCJJbmplY3RhYmxlIiwiRG9tVHJhbnNpdGlvbiIsInRyYW5zaXRpb24iLCJ3aGljaFRyYW5zaXRpb25FbmQiLCJzdHlsZW9iaiIsInN0eWxlIiwidHJhbnNpdGlvbnMiLCJXZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwidCIsIm9uVHJhbnNpdGlvbkVuZCIsImVsZW1lbnQiLCJjYiIsImR1cmF0aW9uIiwiY2FsbGVkIiwiZXZlbnRTdWJzY3JpcHRpb24iLCJfZm4iLCJzZXRUaW1lb3V0IiwidXNlRm9ybUZpZWxkcyIsImluaXRpYWxWYWx1ZXMiLCJjbG9uZSIsImZvcm1GaWVsZHMiLCJzZXRGb3JtRmllbGRzIiwiaW5pdGlhbFN0YXRlIiwiZm4iLCJuZXdTdGF0ZSIsImFzc2lnbiIsInVzZVN0YXRlIiwidGFyZ2V0VmFsdWUiLCJpbmNsdWRlcyIsInR5cGUiLCJjaGVja2VkIiwib3B0aW9uIiwic2VsZWN0ZWQiLCJfZ2V0VGFyZ2V0VmFsdWUiLCJUcmFuc2xhdGlvblNlcnZpY2UiLCJfZGVmYXVsdExhbmd1YWdlIiwic2V0VHJhbnNsYXRlIiwiaTE4biIsImxhbmciLCJzZXREZWZhdWx0TGFuZ3VhZ2UiLCJsYW5ndWFnZSIsImdldEN1cnJlbnRMYW5ndWFnZSJdLCJzb3VyY2VSb290IjoiIn0=